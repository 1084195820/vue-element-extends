(window["webpackJsonpVueElementExtends"]=window["webpackJsonpVueElementExtends"]||[]).push([["editable-manual"],{2300:function(e,t,i){"use strict";var n=i("a8dc"),a=i.n(n);a.a},"36fb":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[i("p",{staticStyle:{color:"red","font-size":"12px"}},[e._v("注意：element-ui table 的实现方式 fixed 列 left 和 right 都是克隆一份独立的 table，所以如果使用了 fixed 列不可避免的会多次渲染 template")]),i("p",{staticStyle:{color:"red","font-size":"12px"}},[e._v("带校验：name字段（校验必填，校验3-50个字符）；age（校验必填）")]),i("p",{staticStyle:{color:"red","font-size":"12px"}},[e._v("默认勾选：可以给 data 设置特殊；_checked=true 默认选中；_disabled=true 默认禁止勾选，如果自定义了 selectable 方法，则根据该方法结果决定是否允许勾选")]),i("div",{staticClass:"manual-table3-oper"},[i("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.insertEvent}},[e._v("新增")]),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.deleteSelectedEvent}},[e._v("删除选中")]),i("el-button",{attrs:{type:"warning",size:"mini"},on:{click:e.submitEvent}},[e._v("保存")]),i("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.exportCsvEvent}},[e._v("导出")])],1),i("elx-editable",{ref:"elxEditable",staticClass:"manual-table3",staticStyle:{width:"100%"},attrs:{border:"",height:"500",size:"mini","row-key":"id",data:e.list,"edit-rules":e.validRules,"edit-config":{trigger:"manual",mode:"row",useDefaultValidTip:!0}},on:{"update:data":function(t){e.list=t},"edit-active":e.editActiveEvent,"blur-active":e.blurActiveEvent,"clear-active":e.clearActiveEvent}},[i("elx-editable-column",{attrs:{type:"selection",width:"55"}}),i("elx-editable-column",{attrs:{type:"index",width:"55"}}),i("elx-editable-column",{attrs:{prop:"id",label:"ID",width:"80"}}),i("elx-editable-column",{attrs:{prop:"name",label:"名字","min-width":"160","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),i("elx-editable-column",{attrs:{prop:"sex",label:"性别",width:"100","edit-render":{name:"ElSelect",options:e.sexList}}}),i("elx-editable-column",{attrs:{prop:"age",label:"年龄",width:"140","edit-render":{name:"ElInputNumber",attrs:{min:1,max:200}}}}),i("elx-editable-column",{attrs:{prop:"region",label:"地区",width:"200","edit-render":{name:"ElCascader",attrs:{options:e.regionList}}}}),i("elx-editable-column",{attrs:{prop:"describe2",label:"文本输入","min-width":"160","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),i("elx-editable-column",{attrs:{prop:"describe",label:"文本域","min-width":"160","show-overflow-tooltip":"","edit-render":{name:"ElInput",attrs:{type:"textarea",autosize:{minRows:1,maxRows:4}}}}}),i("elx-editable-column",{attrs:{prop:"date",label:"日期",width:"220","edit-render":{name:"ElDatePicker",attrs:{type:"datetime",format:"yyyy年MM月dd日 HH时ss分mm秒"}}}}),i("elx-editable-column",{attrs:{prop:"flag",label:"是否启用",width:"100",formatter:e.formatterFlag,"edit-render":{name:"ElSwitch"}}}),i("elx-editable-column",{attrs:{prop:"updateTime",label:"更新时间",width:"160",formatter:e.formatterDate}}),i("elx-editable-column",{attrs:{prop:"createTime",label:"创建时间",width:"160",formatter:e.formatterDate}}),i("elx-editable-column",{attrs:{prop:"describe3",label:"备注",width:"200",fixed:"right","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),i("elx-editable-column",{attrs:{label:"操作",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.$refs.elxEditable.hasActiveRow(t.row)?[i("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(i){return e.cancelRowEvent(t.row)}}},[e._v("取消")]),i("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(i){return e.$refs.elxEditable.revert(t.row)}}},[e._v("还原")])]:[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){return e.openActiveRowEvent(t.row)}}},[e._v("编辑")]),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.removeEvent(t.row)}}},[e._v("删除")])]]}}])})],1),i("el-pagination",{staticClass:"manual-table3-pagination",attrs:{"current-page":e.pageVO.currentPage,"page-sizes":[5,10,15,20,50,100,150,200],"page-size":e.pageVO.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageVO.totalResult},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},a=[],r=(i("ac6a"),i("0a0d")),l=i.n(r),o=i("c695"),s=i.n(o),c=i("628a"),u=i.n(c),d=i("5c96"),f={data:function(){return{loading:!1,sexList:[],regionList:[],list:[],pageVO:{currentPage:1,pageSize:10,totalResult:0},validRules:{name:[{required:!0,message:"请输入名称",trigger:"change"},{min:3,max:50,message:"名称长度 4-20 个字符",trigger:"change"}],age:[{required:!0,message:"请输入年龄",trigger:"change"}]}}},created:function(){this.findSexList(),this.findRegionList(),this.findList()},methods:{findList:function(){var e=this;this.loading=!0,u.a.doGet("/api/user/page/list/".concat(this.pageVO.pageSize,"/").concat(this.pageVO.currentPage)).then(function(t){var i=t.data,n=i.page,a=i.result;e.list=a.map(function(e){return e._checked=e.age>20&&e.age<25,e}),e.pageVO.totalResult=n.totalResult,e.loading=!1}).catch(function(t){e.loading=!1})},findSexList:function(){var e=this;u.a.doGet("/api/conf/sex/list").then(function(t){var i=t.data;e.sexList=i})},findRegionList:function(){var e=this;u.a.doGet("/api/conf/region/list").then(function(t){var i=t.data;e.regionList=i})},handleSizeChange:function(e){this.pageVO.pageSize=e,this.findList()},handleCurrentChange:function(e){this.pageVO.currentPage=e,this.findList()},formatterFlag:function(e,t,i,n){return i?"是":"否"},formatterDate:function(e,t,i,n){return s.a.toDateString(i,"yyyy-MM-dd HH:mm:ss")},editActiveEvent:function(e,t){"call"===event.trigger?console.log("函数触发 edit-active 事件"):console.log("点击触发 edit-active 事件")},blurActiveEvent:function(e,t){console.log("触发 blur-active 事件")},clearActiveEvent:function(e,t){console.log("触发 clear-active 事件")},insertEvent:function(){var e=this,t=this.$refs.elxEditable.getActiveRow(),i=this.$refs.elxEditable.getAllRecords(),n=i.insertRecords;t||n.length||this.$refs.elxEditable.insert({name:"New ".concat(l()()),age:26,flag:!1}).then(function(t){var i=t.row;e.$refs.elxEditable.setActiveRow(i)})},openActiveRowEvent:function(e){this.$refs.elxEditable.checkValid().error||this.$refs.elxEditable.setActiveRow(e)},cancelRowEvent:function(e){this.$refs.elxEditable.clearActive()},removeEvent:function(e){var t=this;e.id?d["MessageBox"].confirm("确定删除该数据?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$refs.elxEditable.remove(e)}):this.$refs.elxEditable.remove(e)},deleteSelectedEvent:function(){var e=this,t=this.$refs.elxEditable.getSelecteds();t.length?d["MessageBox"].confirm("确定删除所选数据?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$refs.elxEditable.removeSelecteds()}):Object(d["Message"])({type:"info",message:"请至少选择一条数据！"})},submitEvent:function(){var e=this;this.$refs.elxEditable.validate(function(t){if(t){var i=e.$refs.elxEditable.getAllRecords(),n=i.insertRecords,a=i.updateRecords,r=i.removeRecords;n.length||a.length||r.length?(n.forEach(function(e){s.a.isDate(e.date)&&(e.date=e.date.getTime())}),a.forEach(function(e){s.a.isDate(e.date)&&(e.date=e.date.getTime())}),e.loading=!0,u.a.doPost("/api/user/save",{insertRecords:n,updateRecords:a,removeRecords:r}).then(function(t){t.data;Object(d["Message"])({type:"success",message:"保存成功!"}),e.findList()}).catch(function(t){e.loading=!1})):Object(d["Message"])({type:"info",message:"数据未改动！"})}})},exportCsvEvent:function(){this.$refs.elxEditable.exportCsv()}}},v=f,h=(i("aeaf"),i("2877")),g=Object(h["a"])(v,n,a,!1,null,null,null);t["default"]=g.exports},"38f1":function(e,t,i){"use strict";var n=i("5642"),a=i.n(n);a.a},"3b2b":function(e,t,i){var n=i("7726"),a=i("5dbc"),r=i("86cc").f,l=i("9093").f,o=i("aae3"),s=i("0bfb"),c=n.RegExp,u=c,d=c.prototype,f=/a/g,v=/a/g,h=new c(f)!==f;if(i("9e1e")&&(!h||i("79e5")(function(){return v[i("2b4c")("match")]=!1,c(f)!=f||c(v)==v||"/a/i"!=c(f,"i")}))){c=function(e,t){var i=this instanceof c,n=o(e),r=void 0===t;return!i&&n&&e.constructor===c&&r?e:a(h?new u(n&&!r?e.source:e,t):u((n=e instanceof c)?e.source:e,n&&r?s.call(e):t),i?this:d,c)};for(var g=function(e){e in c||r(c,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},m=l(u),p=0;m.length>p;)g(m[p++]);d.constructor=c,c.prototype=d,i("2aba")(n,"RegExp",c)}i("7a56")("RegExp")},"3ff3":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[i("p",{staticStyle:{color:"red","font-size":"12px"}},[e._v("关闭自动清除：如果 autoClearActive=false 当点击其它地方后，则不会自动清除最后活动行或列")]),i("div",{staticClass:"manual-table3-oper"},[i("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.insertEvent}},[e._v("新增")]),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.deleteSelectedEvent}},[e._v("删除选中")]),i("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.exportCsvEvent}},[e._v("导出")])],1),i("elx-editable",{ref:"elxEditable",staticClass:"manual-table4",staticStyle:{width:"100%"},attrs:{border:"",height:"466",size:"mini",data:e.list,"edit-config":{trigger:"manual",mode:"row",autoClearActive:!1}},on:{"update:data":function(t){e.list=t}}},[i("elx-editable-column",{attrs:{type:"selection",width:"55"}}),i("elx-editable-column",{attrs:{prop:"id",label:"ID",width:"80"}}),i("elx-editable-column",{attrs:{prop:"name",label:"名字","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),i("elx-editable-column",{attrs:{prop:"sex",label:"性别","edit-render":{name:"ElSelect",options:e.sexList}}}),i("elx-editable-column",{attrs:{prop:"age",label:"年龄","edit-render":{name:"ElInputNumber",attrs:{min:1,max:200}}}}),i("elx-editable-column",{attrs:{prop:"region",label:"地区",width:"200","edit-render":{name:"ElCascader",attrs:{options:e.regionList}}}}),i("elx-editable-column",{attrs:{prop:"describe2",label:"文本输入","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),i("elx-editable-column",{attrs:{prop:"describe",label:"文本域","show-overflow-tooltip":"","edit-render":{name:"ElInput",attrs:{type:"textarea",autosize:{minRows:1,maxRows:4}}}}}),i("elx-editable-column",{attrs:{prop:"date",label:"日期","edit-render":{name:"ElDatePicker",attrs:{type:"datetime",format:"yyyy/MM/dd HH:ss:mm"}}}}),i("elx-editable-column",{attrs:{prop:"flag",label:"是否启用",formatter:e.formatterFlag,"edit-render":{name:"ElSwitch"}}}),i("elx-editable-column",{attrs:{prop:"updateTime",label:"更新时间",width:"160",formatter:e.formatterDate}}),i("elx-editable-column",{attrs:{prop:"createTime",label:"创建时间",width:"160",formatter:e.formatterDate}}),i("elx-editable-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.$refs.elxEditable.hasActiveRow(t.row)?[i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(i){return e.saveRowEvent(t.row)}}},[e._v("保存")]),i("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(i){return e.cancelRowEvent(t.row)}}},[e._v("取消")])]:[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){return e.openActiveRowEvent(t.row)}}},[e._v("编辑")]),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.removeEvent(t.row)}}},[e._v("删除")])]]}}])})],1),i("el-pagination",{staticClass:"manual-table4-pagination",attrs:{"current-page":e.pageVO.currentPage,"page-sizes":[5,10,15,20,50,100,150,200],"page-size":e.pageVO.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageVO.totalResult},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},a=[],r=i("0a0d"),l=i.n(r),o=i("c695"),s=i.n(o),c=i("628a"),u=i.n(c),d=i("5c96"),f={data:function(){return{loading:!1,sexList:[],regionList:[],list:[],pageVO:{currentPage:1,pageSize:10,totalResult:0}}},created:function(){this.findSexList(),this.findRegionList(),this.findList()},methods:{findList:function(){var e=this;this.loading=!0,u.a.doGet("/api/user/page/list/".concat(this.pageVO.pageSize,"/").concat(this.pageVO.currentPage)).then(function(t){var i=t.data,n=i.page,a=i.result;e.list=a,e.pageVO.totalResult=n.totalResult,e.loading=!1}).catch(function(t){e.loading=!1})},findSexList:function(){var e=this;u.a.doGet("/api/conf/sex/list").then(function(t){var i=t.data;e.sexList=i})},findRegionList:function(){var e=this;u.a.doGet("/api/conf/region/list").then(function(t){var i=t.data;e.regionList=i})},handleSizeChange:function(e){this.pageVO.pageSize=e,this.findList()},handleCurrentChange:function(e){this.pageVO.currentPage=e,this.findList()},formatterFlag:function(e,t,i,n){return i?"是":"否"},formatterDate:function(e,t,i,n){return s.a.toDateString(i,"yyyy-MM-dd HH:mm:ss")},insertEvent:function(){var e=this,t=this.$refs.elxEditable.getActiveRow(),i=this.$refs.elxEditable.getAllRecords(),n=i.insertRecords;t||n.length?t?this.checkOutSave(t.row):n&&this.checkOutSave(n[0]):this.$refs.elxEditable.insert({name:"New ".concat(l()()),age:26,flag:!1}).then(function(t){var i=t.row;e.$refs.elxEditable.setActiveRow(i)})},checkOutSave:function(e){var t=this;this.$refs.elxEditable.checkValid().error||(e.id?this.$refs.elxEditable.hasRowChange(e)&&d["MessageBox"].confirm("检测到未保存的内容，请确认操作?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"保存数据",cancelButtonText:"取消修改",type:"warning"}).then(function(){t.$refs.elxEditable.clearActive(),t.saveRowEvent(e)}).catch(function(i){"cancel"===i&&(t.$refs.elxEditable.revert(e),t.$refs.elxEditable.clearActive())}):d["MessageBox"].confirm("该数据未保存，请确认操作?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"保存数据",cancelButtonText:"移除数据",type:"warning"}).then(function(i){t.$refs.elxEditable.clearActive(),t.saveRowEvent(e)}).catch(function(i){"cancel"===i&&t.$refs.elxEditable.remove(e)}))},openActiveRowEvent:function(e){var t=this;this.$nextTick(function(){var i=t.$refs.elxEditable.getActiveRow();i&&i.isUpdate?d["MessageBox"].confirm("检测到未保存的内容，请确认操作?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"保存数据",cancelButtonText:"取消修改",type:"warning"}).then(function(){t.$refs.elxEditable.setActiveRow(e),t.saveRowEvent(i.row)}).catch(function(n){"cancel"===n&&(t.$refs.elxEditable.revert(i.row),t.$refs.elxEditable.setActiveRow(e))}):t.$refs.elxEditable.setActiveRow(e)})},cancelRowEvent:function(e){var t=this;e.id?this.$refs.elxEditable.hasRowChange(e)?d["MessageBox"].confirm("检测到未保存的内容，是否取消修改?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"取消修改",cancelButtonText:"返回继续",type:"warning"}).then(function(i){t.$refs.elxEditable.clearActive(),t.$refs.elxEditable.revert(e)}).catch(function(i){"cancel"===i&&t.$refs.elxEditable.setActiveRow(e)}):this.$refs.elxEditable.clearActive():d["MessageBox"].confirm("该数据未保存，是否移除?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"移除数据",cancelButtonText:"返回继续",type:"warning"}).then(function(i){"confirm"===i&&t.$refs.elxEditable.remove(e)})},removeEvent:function(e){var t=this;e.id?d["MessageBox"].confirm("确定永久删除该数据?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.loading=!0,u.a.doDelete("/api/user/delete/".concat(e.id)).then(function(e){e.data;t.findList()}).catch(function(e){t.loading=!1})}):this.$refs.elxEditable.remove(e)},deleteSelectedEvent:function(){var e=this,t=this.$refs.elxEditable.getSelecteds();t.length?d["MessageBox"].confirm("确定删除所选数据?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.loading=!0,u.a.doPost("/api/user/save",{removeRecords:t}).then(function(t){t.data;Object(d["Message"])({type:"success",message:"删除成功!"}),e.findList()}).catch(function(t){e.loading=!1})}):Object(d["Message"])({type:"info",message:"请至少选择一条数据！"})},saveRowEvent:function(e){var t=this;this.$refs.elxEditable.validateRow(e,function(i){if(i){var n="/api/user/add";e.id&&(n="/api/user/update"),s.a.isDate(e.date)&&(e.date=e.date.getTime()),t.loading=!0,t.$refs.elxEditable.clearActive(),u.a.doPost(n,e).then(function(e){e.data;t.findList(),Object(d["Message"])({message:"保存成功",type:"success"})})}})},exportCsvEvent:function(){this.$refs.elxEditable.exportCsv()}}},v=f,h=(i("d63b"),i("2877")),g=Object(h["a"])(v,n,a,!1,null,null,null);t["default"]=g.exports},"528b":function(e,t,i){},5642:function(e,t,i){},"7cc0":function(e,t,i){},8478:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("p",{staticStyle:{color:"red","font-size":"12px"}},[e._v("对于一个页面有多个表格，建议再封装一层使用更简单")]),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.roleLoading,expression:"roleLoading"}]},[i("div",{staticClass:"manual-table5-oper"},[i("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.insertEvent("elxEditable1")}}},[e._v("新增")]),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteSelectedEvent("elxEditable1")}}},[e._v("删除选中")]),i("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.customExportCsvEvent("elxEditable1",{filename:"显示数据.csv"})}}},[e._v("导出显示数据")]),i("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.customExportCsvEvent("elxEditable1",{filename:"实际数据.csv",original:!0})}}},[e._v("导出实际数据")])],1),i("elx-editable",{ref:"elxEditable1",staticStyle:{width:"100%"},attrs:{size:"mini",border:"",height:"260",data:e.roleList,"edit-config":{trigger:"manual",mode:"row",clearActiveMethod:e.clearActiveMethod1},"context-menu-config":{bodyMenus:e.bodyMenus,bodyVisibleMethod:e.bodyVisibleMethod1}},on:{"update:data":function(t){e.roleList=t},"custom-menu-link":e.customMenuLinkEvent1}},[i("elx-editable-column",{attrs:{type:"selection",width:"55"}}),i("elx-editable-column",{attrs:{prop:"id",label:"ID",width:"80"}}),i("elx-editable-column",{attrs:{prop:"name",label:"角色","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),i("elx-editable-column",{attrs:{prop:"describe",label:"描述","edit-render":{name:"ElInput",attrs:{type:"textarea",autosize:{minRows:1,maxRows:4}}}}}),i("elx-editable-column",{attrs:{prop:"updateTime",label:"更新时间",width:"160",formatter:e.formatterDate}}),i("elx-editable-column",{attrs:{prop:"createTime",label:"创建时间",width:"160",formatter:e.formatterDate}}),i("elx-editable-column",{attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.$refs.elxEditable1.hasActiveRow(t.row)?[i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(i){return e.saveRowEvent("elxEditable1",t.row)}}},[e._v("保存")]),i("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(i){return e.cancelRowEvent("elxEditable1",t.row)}}},[e._v("取消")])]:[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){return e.openActiveRowEvent("elxEditable1",t.row)}}},[e._v("编辑")]),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.removeEvent("elxEditable1",t.row)}}},[e._v("删除")])]]}}])})],1),i("el-pagination",{staticClass:"manual-table5-pagination",attrs:{"current-page":e.rolePageVO.currentPage,"page-sizes":[5,10,15,20,50,100,150,200],"page-size":e.rolePageVO.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.rolePageVO.totalResult},on:{"size-change":e.handleSizeChange1,"current-change":e.handleCurrentChange1}})],1),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.userLoading,expression:"userLoading"}]},[i("div",{staticClass:"manual-table5-oper"},[i("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.insertEvent("elxEditable2")}}},[e._v("新增")]),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteSelectedEvent("elxEditable2")}}},[e._v("删除选中")]),i("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.customExportCsvEvent("elxEditable2",{filename:"显示数据.csv"})}}},[e._v("导出显示数据")]),i("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.customExportCsvEvent("elxEditable2",{filename:"实际数据.csv",original:!0})}}},[e._v("导出实际数据")])],1),i("elx-editable",{ref:"elxEditable2",staticStyle:{width:"100%"},attrs:{size:"mini",border:"",height:"260",data:e.userList,"edit-config":{trigger:"manual",mode:"row",clearActiveMethod:e.clearActiveMethod2},"context-menu-config":{bodyMenus:e.bodyMenus,bodyVisibleMethod:e.bodyVisibleMethod2}},on:{"update:data":function(t){e.userList=t},"custom-menu-link":e.customMenuLinkEvent2}},[i("elx-editable-column",{attrs:{type:"selection",width:"55"}}),i("elx-editable-column",{attrs:{prop:"id",label:"ID",width:"80"}}),i("elx-editable-column",{attrs:{prop:"name",label:"名字","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),i("elx-editable-column",{attrs:{prop:"sex",label:"性别","edit-render":{name:"ElSelect",options:e.sexList}}}),i("elx-editable-column",{attrs:{prop:"age",label:"年龄","edit-render":{name:"ElInputNumber",attrs:{min:1,max:200}}}}),i("elx-editable-column",{attrs:{prop:"region",label:"地区",width:"200","edit-render":{name:"ElCascader",attrs:{options:e.regionList}}}}),i("elx-editable-column",{attrs:{prop:"role",label:"角色","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),i("elx-editable-column",{attrs:{prop:"describe",label:"文本域","show-overflow-tooltip":"","edit-render":{name:"ElInput",attrs:{type:"textarea",autosize:{minRows:1,maxRows:4}}}}}),i("elx-editable-column",{attrs:{prop:"date",label:"日期","edit-render":{name:"ElDatePicker",attrs:{type:"datetime",format:"yyyy-MM-dd"}}}}),i("elx-editable-column",{attrs:{prop:"flag",label:"是否启用",formatter:e.formatterFlag,"edit-render":{name:"ElSwitch"}}}),i("elx-editable-column",{attrs:{prop:"updateTime",label:"更新时间",width:"160",formatter:e.formatterDate}}),i("elx-editable-column",{attrs:{prop:"createTime",label:"创建时间",width:"160",formatter:e.formatterDate}}),i("elx-editable-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.$refs.elxEditable2.hasActiveRow(t.row)?[i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(i){return e.saveRowEvent("elxEditable2",t.row)}}},[e._v("保存")]),i("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(i){return e.cancelRowEvent("elxEditable2",t.row)}}},[e._v("取消")])]:[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){return e.openActiveRowEvent("elxEditable2",t.row)}}},[e._v("编辑")]),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.removeEvent("elxEditable2",t.row)}}},[e._v("删除")])]]}}])})],1),i("el-pagination",{staticClass:"manual-table5-pagination",attrs:{"current-page":e.userPageVO.currentPage,"page-sizes":[5,10,15,20,50,100,150,200],"page-size":e.userPageVO.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.userPageVO.totalResult},on:{"size-change":e.handleSizeChange2,"current-change":e.handleCurrentChange2}})],1),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.fileLoading,expression:"fileLoading"}]},[i("div",{staticClass:"manual-table5-oper"},[i("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.insertEvent("elxEditable3")}}},[e._v("新增")]),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteSelectedEvent("elxEditable3")}}},[e._v("删除选中")]),i("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.customExportCsvEvent("elxEditable3",{filename:"显示数据.csv"})}}},[e._v("导出显示数据")]),i("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.customExportCsvEvent("elxEditable3",{filename:"实际数据.csv",original:!0})}}},[e._v("导出实际数据")])],1),i("elx-editable",{ref:"elxEditable3",staticStyle:{width:"100%"},attrs:{size:"mini",border:"",height:"260",data:e.fileList,"edit-config":{trigger:"manual",mode:"row",clearActiveMethod:e.clearActiveMethod3},"context-menu-config":{bodyMenus:e.bodyMenus,bodyVisibleMethod:e.bodyVisibleMethod3}},on:{"update:data":function(t){e.fileList=t},"custom-menu-link":e.customMenuLinkEvent3}},[i("elx-editable-column",{attrs:{type:"selection",width:"55"}}),i("elx-editable-column",{attrs:{prop:"id",label:"ID",width:"100"}}),i("elx-editable-column",{attrs:{prop:"name",label:"名称","min-width":"220","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),i("elx-editable-column",{attrs:{prop:"size",label:"大小",width:"100",formatter:e.formatColumnSize}}),i("elx-editable-column",{attrs:{prop:"createTime",label:"创建时间",width:"160",formatter:e.formatterDate}}),i("elx-editable-column",{attrs:{prop:"updateTime",label:"修改时间",width:"160",formatter:e.formatterDate}}),i("elx-editable-column",{attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.$refs.elxEditable3.hasActiveRow(t.row)?[i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(i){return e.saveRowEvent("elxEditable3",t.row)}}},[e._v("保存")]),i("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(i){return e.cancelRowEvent("elxEditable3",t.row)}}},[e._v("取消")])]:[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){return e.openActiveRowEvent("elxEditable3",t.row)}}},[e._v("编辑")]),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.removeEvent("elxEditable3",t.row)}}},[e._v("删除")])]]}}])})],1),i("el-pagination",{staticClass:"manual-table5-pagination",attrs:{"current-page":e.filePageVO.currentPage,"page-sizes":[5,10,15,20,50,100,150,200],"page-size":e.filePageVO.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.filePageVO.totalResult},on:{"size-change":e.handleSizeChange3,"current-change":e.handleCurrentChange3}})],1)])},a=[],r=(i("7f7f"),i("c695")),l=i.n(r),o=i("628a"),s=i.n(o),c=i("5c96"),u={data:function(){return{sexList:[],regionList:[],roleList:[],roleLoading:!1,rolePageVO:{currentPage:1,pageSize:5,totalResult:0},userList:[],userLoading:!1,userPageVO:{currentPage:1,pageSize:5,totalResult:0},fileList:[],fileLoading:!1,filePageVO:{currentPage:1,pageSize:5,totalResult:0},bodyMenus:[[{code:"editRow",name:"编辑",prefixIcon:"el-icon-edit-outline"},{code:"removeRow",name:"删除",prefixIcon:"el-icon-delete"},{code:"ROW_INSERT",name:"插入新行",prefixIcon:"el-icon-plus"},{code:"ROW_REMOVE",name:"删除行",prefixIcon:"el-icon-minus"}],[{code:"CELL_RESET",name:"清除内容",prefixIcon:"el-icon-close"},{code:"CELL_REVERT",name:"还原数据"}]],isClearActiveFlag:!0}},created:function(){this.findSexList(),this.findRegionList(),this.findRoleList(),this.findUserList(),this.findFileList()},methods:{findRoleList:function(){var e=this;this.roleLoading=!0,s.a.doGet("/api/role/page/list/".concat(this.rolePageVO.pageSize,"/").concat(this.rolePageVO.currentPage)).then(function(t){var i=t.data,n=i.page,a=i.result;e.roleList=a,e.rolePageVO.totalResult=n.totalResult,e.roleLoading=!1})},findUserList:function(){var e=this;this.userLoading=!0,s.a.doGet("/api/user/page/list/".concat(this.userPageVO.pageSize,"/").concat(this.userPageVO.currentPage)).then(function(t){var i=t.data,n=i.page,a=i.result;e.userList=a,e.userPageVO.totalResult=n.totalResult,e.userLoading=!1})},findFileList:function(){var e=this;this.fileLoading=!0,s.a.doGet("/api/file/page/list/".concat(this.filePageVO.pageSize,"/").concat(this.filePageVO.currentPage)).then(function(t){var i=t.data,n=i.page,a=i.result;e.fileList=a,e.filePageVO.totalResult=n.totalResult,e.fileLoading=!1})},findSexList:function(){var e=this;s.a.doGet("/api/conf/sex/list").then(function(t){var i=t.data;e.sexList=i})},findRegionList:function(){var e=this;s.a.doGet("/api/conf/region/list").then(function(t){var i=t.data;e.regionList=i})},handleSizeChange1:function(e){this.rolePageVO.pageSize=e,this.findRoleList()},handleCurrentChange1:function(e){this.rolePageVO.currentPage=e,this.findRoleList()},handleSizeChange2:function(e){this.userPageVO.pageSize=e,this.findUserList()},handleCurrentChange2:function(e){this.userPageVO.currentPage=e,this.findUserList()},handleSizeChange3:function(e){this.filePageVO.pageSize=e,this.findFileList()},handleCurrentChange3:function(e){this.filePageVO.currentPage=e,this.findFileList()},formatterFlag:function(e,t,i,n){return i?"是":"否"},formatterDate:function(e,t,i,n){return l.a.toDateString(i,"yyyy-MM-dd HH:mm:ss")},formatColumnSize:function(e,t,i,n){if(l.a.isNumber(i)){for(var a=["B","KB","MB","GB","TB"],r="",o=l.a.toNumber(i),s=0;s<a.length;s++){if(r=a[s],!(o>=1024))break;o=l.a.toFixedNumber(o/1024,2)}return"".concat(o," ").concat(r)}return""},customMenuLinkEvent1:function(e,t,i,n){this.handleMenuLink("elxEditable1",e,t,i,n)},customMenuLinkEvent2:function(e,t,i,n){this.handleMenuLink("elxEditable2",e,t,i,n)},customMenuLinkEvent3:function(e,t,i,n){this.handleMenuLink("elxEditable3",e,t,i,n)},handleMenuLink:function(e,t,i,n,a){switch(t){case"editRow":this.openActiveRowEvent(e,i);break;case"removeRow":this.removeEvent(e,i);break}},bodyVisibleMethod1:function(e,t){e.row,e.column;return t.preventDefault(),this.isClearActiveFlag},bodyVisibleMethod2:function(e,t){e.row,e.column;return t.preventDefault(),this.isClearActiveFlag},bodyVisibleMethod3:function(e,t){e.row,e.column;return t.preventDefault(),this.isClearActiveFlag},insertEvent:function(e){var t=this,i=this.$refs[e].getActiveRow(),n=this.$refs[e].getAllRecords(),a=n.insertRecords;i||a.length||this.$refs[e].insert().then(function(i){var n=i.row;t.$refs[e].setActiveRow(n)})},customExportCsvEvent:function(e,t){this.$refs[e].exportCsv(t)},clearActiveMethod1:function(e){var t=e.type,i=e.row;e.rowIndex;return this.isClearActiveFlag&&"out"===t?this.checkSaveData("elxEditable1",i):this.isClearActiveFlag},clearActiveMethod2:function(e){var t=e.type,i=e.row;e.rowIndex;return this.isClearActiveFlag&&"out"===t?this.checkSaveData("elxEditable2",i):this.isClearActiveFlag},clearActiveMethod3:function(e){var t=e.type,i=e.row;e.rowIndex;return this.isClearActiveFlag&&"out"===t?this.checkSaveData("elxEditable3",i):this.isClearActiveFlag},checkSaveData:function(e,t){var i=this;return this.$refs[e].hasRowChange(t)?(this.isClearActiveFlag=!1,c["MessageBox"].confirm("您离开了表格，检测未保存的内容，是否在离开前保存修改?","温馨提示",{closeOnClickModal:!1,distinguishCancelAndClose:!0,confirmButtonText:"保存",cancelButtonText:"放弃修改",type:"warning"}).then(function(){i.$refs[e].clearActive(),i.saveRowEvent(e,t)}).catch(function(n){"cancel"===n?(i.$refs[e].revert(t),i.$refs[e].clearActive(),Object(c["Message"])({message:"放弃修改并离开当前行",type:"warning"})):(i.$refs[e].setActiveRow(t),Object(c["Message"])({message:"停留在当前行编辑",type:"info"}))}).then(function(){i.isClearActiveFlag=!0}),!1):this.isClearActiveFlag},openActiveRowEvent:function(e,t){var i=this;this.$nextTick(function(){var n=i.$refs[e].getActiveRow();n?n.row!==t&&i.$refs[e].checkValid().error||(n.isUpdate?(i.isClearActiveFlag=!1,c["MessageBox"].confirm("检测到未保存的内容，是否在离开前保存修改?","温馨提示",{closeOnClickModal:!1,distinguishCancelAndClose:!0,confirmButtonText:"保存",cancelButtonText:"放弃修改",type:"warning"}).then(function(){i.$refs[e].setActiveRow(t),i.saveRowEvent(e,n.row)}).catch(function(a){"cancel"===a?(i.$refs[e].revert(n.row),i.$refs[e].setActiveRow(t),Object(c["Message"])({message:"放弃修改并离开当前行",type:"warning"})):Object(c["Message"])({message:"停留在当前行编辑",type:"info"})}).then(function(){i.isClearActiveFlag=!0})):i.$refs[e].setActiveRow(t)):i.$refs[e].setActiveRow(t)})},removeEvent:function(e,t){var i=this;t.id?(this.isClearActiveFlag=!1,c["MessageBox"].confirm("确定永久删除该数据?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){switch(e){case"elxEditable1":i.roleLoading=!0,s.a.doDelete("/api/role/delete/".concat(t.id)).then(function(e){e.data;i.findRoleList()}).catch(function(e){i.roleLoading=!1});break;case"elxEditable2":i.userLoading=!0,s.a.doDelete("/api/user/delete/".concat(t.id)).then(function(e){e.data;i.findUserList()}).catch(function(e){i.userLoading=!1});break;case"elxEditable3":i.fileLoading=!0,s.a.doDelete("/api/file/delete/".concat(t.id)).then(function(e){e.data;i.findFileList()}).catch(function(e){i.fileLoading=!1});break}}).catch(function(e){return e}).then(function(){i.isClearActiveFlag=!0})):this.$refs[e].remove(t)},deleteSelectedEvent:function(e){var t=this,i=this.$refs[e].getSelecteds();i.length?(this.isClearActiveFlag=!1,c["MessageBox"].confirm("确定删除所选数据?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){switch(e){case"elxEditable1":t.roleLoading=!0,s.a.doPost("/api/role/save",{removeRecords:i}).then(function(e){e.data;Object(c["Message"])({type:"success",message:"删除成功!"}),t.findRoleList()}).catch(function(e){t.roleLoading=!1});break;case"elxEditable2":t.userLoading=!0,s.a.doPost("/api/user/save",{removeRecords:i}).then(function(e){e.data;Object(c["Message"])({type:"success",message:"删除成功!"}),t.findUserList()}).catch(function(e){t.userLoading=!1});break;case"elxEditable3":t.fileLoading=!0,s.a.doPost("/api/file/save",{removeRecords:i}).then(function(e){e.data;Object(c["Message"])({type:"success",message:"删除成功!"}),t.findFileList()}).catch(function(e){t.fileLoading=!1});break}}).catch(function(e){return e}).then(function(){t.isClearActiveFlag=!0})):Object(c["Message"])({type:"info",message:"请至少选择一条数据！"})},saveRowEvent:function(e,t){var i=this;this.$refs[e].validateRow(t,function(n){var a;if(n)switch(e){case"elxEditable1":a="/api/role/add",t.id&&(a="/api/role/update"),i.roleLoading=!0,i.$refs[e].clearActive(),s.a.doPost(a,t).then(function(e){e.data;i.findRoleList(),Object(c["Message"])({message:"保存成功",type:"success"})}).catch(function(e){i.roleLoading=!1});break;case"elxEditable2":a="/api/user/add",t.id&&(a="/api/user/update"),l.a.isDate(t.date)&&(t.date=t.date.getTime()),i.userLoading=!0,i.$refs[e].clearActive(),s.a.doPost(a,t).then(function(e){e.data;i.findUserList(),Object(c["Message"])({message:"保存成功",type:"success"})}).catch(function(e){i.userLoading=!1});break;case"elxEditable3":a="/api/file/add",t.id&&(a="/api/file/update"),i.fileLoading=!0,i.$refs[e].clearActive(),s.a.doPost(a,t).then(function(e){e.data;i.findFileList(),Object(c["Message"])({message:"保存成功",type:"success"})}).catch(function(e){i.fileLoading=!1});break}})},cancelRowEvent:function(e,t){var i=this,n=this.$refs[e].getActiveRow();n&&n.isUpdate?(this.isClearActiveFlag=!1,c["MessageBox"].confirm("检测到未保存的内容，确定放弃修改?","温馨提示",{closeOnClickModal:!1,confirmButtonText:"放弃更改",cancelButtonText:"返回",type:"warning"}).then(function(n){"confirm"===n?(i.$refs[e].clearActive(),i.$refs[e].revert(t)):i.$refs[e].setActiveRow(t)}).catch(function(e){return e}).then(function(){i.isClearActiveFlag=!0})):this.$refs[e].clearActive()}}},d=u,f=(i("2300"),i("2877")),v=Object(f["a"])(d,n,a,!1,null,null,null);t["default"]=v.exports},"84f8":function(e,t,i){},a15b:function(e,t,i){"use strict";var n=i("528b"),a=i.n(n);a.a},a190:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[i("p",{staticStyle:{color:"red","font-size":"12px"}},[e._v("如果是手动模式会自动关闭触发激活")]),i("div",{staticClass:"manual-table1-oper"},[i("el-button",{attrs:{type:"success",size:"small"},on:{click:e.insertEvent}},[e._v("新增")]),i("el-button",{attrs:{type:"success",size:"small"},on:{click:e.exportCsvEvent}},[e._v("导出")])],1),i("elx-editable",{ref:"elxEditable",staticClass:"manual-table1",staticStyle:{width:"100%"},attrs:{border:"",size:"small",data:e.list,"edit-config":{trigger:"manual",mode:"row",clearActiveMethod:e.clearActiveMethod}},on:{"update:data":function(t){e.list=t}},scopedSlots:e._u([{key:"append",fn:function(){return[i("div",[e._v("-- slot append --")])]},proxy:!0}])},[i("elx-editable-column",{attrs:{prop:"id",label:"ID",width:"80"}}),i("elx-editable-column",{attrs:{prop:"name",label:"角色","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),i("elx-editable-column",{attrs:{prop:"describe",label:"描述","edit-render":{name:"ElInput",attrs:{type:"textarea",autosize:{minRows:1,maxRows:4}}}}}),i("elx-editable-column",{attrs:{prop:"updateTime",label:"更新时间",width:"160",formatter:e.formatterDate}}),i("elx-editable-column",{attrs:{prop:"createTime",label:"创建时间",width:"160",formatter:e.formatterDate}}),i("elx-editable-column",{attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.$refs.elxEditable.hasActiveRow(t.row)?[i("el-button",{attrs:{size:"small",type:"success"},on:{click:function(i){return e.saveRowEvent(t.row)}}},[e._v("保存")]),i("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(i){return e.cancelRowEvent(t.row)}}},[e._v("取消")])]:[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(i){return e.openActiveRowEvent(t.row)}}},[e._v("编辑")]),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(i){return e.removeEvent(t.row)}}},[e._v("删除")])]]}}])})],1)],1)},a=[],r=i("0a0d"),l=i.n(r),o=i("c695"),s=i.n(o),c=i("628a"),u=i.n(c),d=i("5c96"),f={data:function(){return{loading:!1,list:[],isClearActiveFlag:!0}},created:function(){this.findList()},methods:{findList:function(){var e=this;this.loading=!0,u.a.doGet("/api/role/list").then(function(t){var i=t.data;e.list=i,e.loading=!1}).catch(function(t){e.loading=!1})},formatterDate:function(e,t,i,n){return s.a.toDateString(i,"yyyy-MM-dd HH:mm:ss")},clearActiveMethod:function(e){var t=e.type,i=e.row;return this.isClearActiveFlag&&"out"===t?this.checkOutSave(i):this.isClearActiveFlag},insertEvent:function(){var e=this,t=this.$refs.elxEditable.getActiveRow(),i=this.$refs.elxEditable.getAllRecords(),n=i.insertRecords;t||n.length||this.$refs.elxEditable.insert({name:"New ".concat(l()()),age:26,flag:!1}).then(function(t){var i=t.row;e.$refs.elxEditable.setActiveRow(i)})},checkOutSave:function(e){var t=this;if(e.id){if(this.$refs.elxEditable.hasRowChange(e))return this.isClearActiveFlag=!1,d["MessageBox"].confirm("检测到未保存的内容，请确认操作?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"保存数据",cancelButtonText:"取消修改",type:"warning"}).then(function(){t.$refs.elxEditable.clearActive(),t.saveRowEvent(e)}).catch(function(i){"cancel"===i&&(t.$refs.elxEditable.revert(e),t.$refs.elxEditable.clearActive())}).then(function(){t.isClearActiveFlag=!0}),!1}else this.isClearActiveFlag=!1,d["MessageBox"].confirm("该数据未保存，请确认操作?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"保存数据",cancelButtonText:"移除数据",type:"warning"}).then(function(i){t.$refs.elxEditable.clearActive(),t.saveRowEvent(e)}).catch(function(i){"cancel"===i&&t.$refs.elxEditable.remove(e)}).then(function(){t.isClearActiveFlag=!0});return this.isClearActiveFlag},openActiveRowEvent:function(e){var t=this;this.$nextTick(function(){var i=t.$refs.elxEditable.getActiveRow();i&&i.isUpdate?(t.isClearActiveFlag=!1,d["MessageBox"].confirm("检测到未保存的内容，请确认操作?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"保存数据",cancelButtonText:"取消修改",type:"warning"}).then(function(){t.$refs.elxEditable.setActiveRow(e),t.saveRowEvent(i.row)}).catch(function(n){"cancel"===n&&(t.$refs.elxEditable.revert(i.row),t.$refs.elxEditable.setActiveRow(e))}).then(function(){t.isClearActiveFlag=!0})):t.$refs.elxEditable.setActiveRow(e)})},cancelRowEvent:function(e){var t=this;e.id?this.$refs.elxEditable.hasRowChange(e)?(this.isClearActiveFlag=!1,d["MessageBox"].confirm("检测到未保存的内容，是否取消修改?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"取消修改",cancelButtonText:"返回继续",type:"warning"}).then(function(i){t.$refs.elxEditable.clearActive(),t.$refs.elxEditable.revert(e)}).catch(function(i){"cancel"===i&&t.$refs.elxEditable.setActiveRow(e)}).then(function(){t.isClearActiveFlag=!0})):this.$refs.elxEditable.clearActive():(this.isClearActiveFlag=!1,d["MessageBox"].confirm("该数据未保存，是否移除?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"移除数据",cancelButtonText:"返回继续",type:"warning"}).then(function(i){"confirm"===i&&t.$refs.elxEditable.remove(e)}).catch(function(e){return e}).then(function(){t.isClearActiveFlag=!0}))},removeEvent:function(e){var t=this;e.id?(this.isClearActiveFlag=!1,d["MessageBox"].confirm("确定永久删除该数据?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){u.a.doDelete("/api/role/delete/".concat(e.id)).then(function(e){e.data;t.findList()}).catch(function(e){t.loading=!1})}).catch(function(e){return e}).then(function(){t.isClearActiveFlag=!0})):this.$refs.elxEditable.remove(e)},saveRowEvent:function(e){var t=this;this.$refs.elxEditable.validateRow(e,function(i){if(i){var n="/api/role/add";e.id&&(n="/api/role/update"),t.loading=!0,t.$refs.elxEditable.clearActive(),u.a.doPost(n,e).then(function(e){e.data;t.findList(),Object(d["Message"])({message:"保存成功",type:"success"})}).catch(function(e){t.loading=!1})}})},exportCsvEvent:function(){this.$refs.elxEditable.exportCsv()}}},v=f,h=(i("a699"),i("2877")),g=Object(h["a"])(v,n,a,!1,null,null,null);t["default"]=g.exports},a699:function(e,t,i){"use strict";var n=i("84f8"),a=i.n(n);a.a},a8dc:function(e,t,i){},ad66:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[i("p",{staticStyle:{color:"red","font-size":"12px"}},[e._v("树表格：支持大部分功能")]),i("div",{staticClass:"manual-table6-oper"},[i("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.insertEvent}},[e._v("新增")]),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.deleteSelectedEvent}},[e._v("删除选中")]),i("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.exportCsvEvent}},[e._v("导出")])],1),i("elx-editable",{ref:"elxEditable",staticClass:"manual-table6",staticStyle:{width:"100%"},attrs:{border:"",size:"mini","row-key":"id","highlight-current-row":"",data:e.list,"edit-rules":e.validRules,"edit-config":{trigger:"manual",mode:"row",useDefaultValidTip:!0,clearActiveMethod:e.clearActiveMethod}},on:{"update:data":function(t){e.list=t},"current-change":e.handleCurrentChange}},[i("elx-editable-column",{attrs:{type:"selection",width:"55"}}),i("elx-editable-column",{attrs:{prop:"id",label:"ID",width:"140",formatter:e.formatterId}}),i("elx-editable-column",{attrs:{prop:"name",label:"名称","min-width":"220","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),i("elx-editable-column",{attrs:{prop:"size",label:"大小",width:"100",formatter:e.formatColumnSize}}),i("elx-editable-column",{attrs:{prop:"createTime",label:"创建时间",width:"160",formatter:e.formatterDate}}),i("elx-editable-column",{attrs:{prop:"updateTime",label:"修改时间",width:"160",formatter:e.formatterDate}}),i("elx-editable-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.$refs.elxEditable.hasActiveRow(t.row)?[i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(i){return e.saveRowEvent(t.row)}}},[e._v("保存")]),i("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(i){return e.cancelRowEvent(t.row)}}},[e._v("取消")])]:[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){return e.openActiveRowEvent(t.row)}}},[e._v("编辑")]),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.removeEvent(t.row)}}},[e._v("删除")])]]}}])})],1)],1)},a=[],r=i("c695"),l=i.n(r),o=i("628a"),s=i.n(o),c=i("5c96"),u={data:function(){return{loading:!1,currentRow:null,sexList:[],regionList:[],list:[],isClearActiveFlag:!0,validRules:{name:[{required:!0,message:"请输入名称",trigger:"change"},{min:3,max:50,message:"名称长度 4-20 个字符",trigger:"change"}]}}},created:function(){this.findList()},methods:{findList:function(){var e=this;this.loading=!0,s.a.doGet("/api/file/list").then(function(t){var i=t.data;e.list=l.a.toArrayTree(i),e.loading=!1}).catch(function(t){e.loading=!1})},formatterId:function(e,t,i,n){return this.$refs.elxEditable.hasRowInsert(e)?"":i},formatColumnSize:function(e,t,i,n){if(l.a.isNumber(i)){for(var a=["B","KB","MB","GB","TB"],r="",o=l.a.toNumber(i),s=0;s<a.length;s++){if(r=a[s],!(o>=1024))break;o=l.a.toFixedNumber(o/1024,2)}return"".concat(o," ").concat(r)}return""},formatterDate:function(e,t,i,n){return l.a.toDateString(i,"yyyy-MM-dd HH:mm:ss")},clearActiveMethod:function(e){var t=e.type,i=e.row;return this.isClearActiveFlag&&"out"===t?this.checkOutSave(i):this.isClearActiveFlag},handleCurrentChange:function(e){this.currentRow=e},insertEvent:function(){var e=this,t=this.$refs.elxEditable.getActiveRow(),i=this.$refs.elxEditable.getAllRecords(),n=i.insertRecords;if(!t&&!n.length){var a={id:"-",name:"Name_".concat(l.a.uniqueId())};this.currentRow&&this.currentRow.parentId&&(a.parentId=this.currentRow.parentId),this.$refs.elxEditable.insertAt(a,this.currentRow).then(function(t){var i=t.row;e.$refs.elxEditable.refresh().then(function(){return e.$refs.elxEditable.setActiveCell(i,"name")})})}},checkOutSave:function(e){var t=this;if(!this.$refs.elxEditable.checkValid().error)if("-"===e.id)this.isClearActiveFlag=!1,c["MessageBox"].confirm("该数据未保存，请确认操作?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"保存数据",cancelButtonText:"移除数据",type:"warning"}).then(function(i){t.$refs.elxEditable.clearActive(),t.saveRowEvent(e)}).catch(function(i){"cancel"===i&&(t.$refs.elxEditable.remove(e),t.$refs.elxEditable.refresh())}).then(function(){t.isClearActiveFlag=!0});else if(this.$refs.elxEditable.hasRowChange(e))return this.isClearActiveFlag=!1,c["MessageBox"].confirm("检测到未保存的内容，请确认操作?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"保存数据",cancelButtonText:"取消修改",type:"warning"}).then(function(){t.$refs.elxEditable.clearActive(),t.saveRowEvent(e)}).catch(function(i){"cancel"===i&&(t.$refs.elxEditable.revert(e),t.$refs.elxEditable.clearActive())}).then(function(){t.isClearActiveFlag=!0}),!1;return this.isClearActiveFlag},openActiveRowEvent:function(e){var t=this;this.$nextTick(function(){var i=t.$refs.elxEditable.getActiveRow();i&&i.isUpdate?(t.isClearActiveFlag=!1,c["MessageBox"].confirm("检测到未保存的内容，请确认操作?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"保存数据",cancelButtonText:"取消修改",type:"warning"}).then(function(){t.$refs.elxEditable.setActiveRow(e),t.saveRowEvent(i.row)}).catch(function(n){"cancel"===n&&(t.$refs.elxEditable.revert(i.row),t.$refs.elxEditable.setActiveRow(e))}).then(function(){t.isClearActiveFlag=!0})):t.$refs.elxEditable.setActiveRow(e)})},cancelRowEvent:function(e){var t=this;"-"===e.id?(this.isClearActiveFlag=!1,c["MessageBox"].confirm("该数据未保存，是否移除?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"移除数据",cancelButtonText:"返回继续",type:"warning"}).then(function(i){"confirm"===i&&(t.$refs.elxEditable.remove(e),t.$refs.elxEditable.refresh())}).catch(function(e){return e}).then(function(){t.isClearActiveFlag=!0})):this.$refs.elxEditable.hasRowChange(e)?(this.isClearActiveFlag=!1,c["MessageBox"].confirm("检测到未保存的内容，是否取消修改?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"取消修改",cancelButtonText:"返回继续",type:"warning"}).then(function(i){t.$refs.elxEditable.clearActive(),t.$refs.elxEditable.revert(e)}).catch(function(i){"cancel"===i&&t.$refs.elxEditable.setActiveRow(e)}).then(function(){t.isClearActiveFlag=!0})):this.$refs.elxEditable.clearActive()},removeEvent:function(e){var t=this;"-"===e.id?this.$refs.elxEditable.remove(e):(this.isClearActiveFlag=!1,c["MessageBox"].confirm("确定永久删除该数据?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.a.doDelete("/api/file/delete/".concat(e.id)).then(function(e){e.data;t.findList()})}).catch(function(e){return e}).then(function(){t.isClearActiveFlag=!0}))},deleteSelectedEvent:function(){var e=this,t=this.$refs.elxEditable.getSelecteds();t.length?(this.isClearActiveFlag=!1,c["MessageBox"].confirm("确定删除所选数据?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.loading=!0,s.a.doPost("/api/file/save",{removeRecords:t}).then(function(t){t.data;Object(c["Message"])({type:"success",message:"删除成功!"}),e.findList()}).catch(function(t){e.loading=!1})}).catch(function(e){return e}).then(function(){e.isClearActiveFlag=!0})):Object(c["Message"])({type:"info",message:"请至少选择一条数据！"})},saveRowEvent:function(e){var t=this;this.$refs.elxEditable.validateRow(e,function(i){if(i){var n="/api/file/update";"-"===e.id&&(n="/api/file/add"),l.a.isDate(e.date)&&(e.date=e.date.getTime()),t.loading=!0,t.$refs.elxEditable.clearActive(),s.a.doPost(n,e).then(function(i){var n=i.data;l.a.destructuring(e,n[0]),t.$refs.elxEditable.reloadRow(e).then(function(){return t.$refs.elxEditable.refresh()}),Object(c["Message"])({message:"保存成功",type:"success"}),t.loading=!1}).catch(function(e){t.loading=!1})}})},exportCsvEvent:function(){this.$refs.elxEditable.exportCsv()}}},d=u,f=(i("38f1"),i("2877")),v=Object(f["a"])(d,n,a,!1,null,null,null);t["default"]=v.exports},aeaf:function(e,t,i){"use strict";var n=i("d8c8"),a=i.n(n);a.a},d63b:function(e,t,i){"use strict";var n=i("7cc0"),a=i.n(n);a.a},d8c8:function(e,t,i){},ee80:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("p",{staticStyle:{color:"red","font-size":"12px"}},[e._v("可配置的动态列")]),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.columnLoading,expression:"columnLoading"}]},[i("div",{staticClass:"manual-table7-oper"},[i("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.insertEvent("elxEditable1")}}},[e._v("新增")]),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteSelectedEvent("elxEditable1")}}},[e._v("删除选中")])],1),i("elx-editable",{ref:"elxEditable1",staticClass:"manual-table7",staticStyle:{width:"100%"},attrs:{size:"mini",border:"",height:"260",data:e.columnList,"edit-config":{trigger:"manual",mode:"row",clearActiveMethod:e.clearActiveMethod1}},on:{"update:data":function(t){e.columnList=t}}},[i("elx-editable-column",{attrs:{type:"selection",width:"55"}}),i("elx-editable-column",{attrs:{prop:"seq",label:"序号",width:"80",align:"center","edit-render":{name:"ElInputNumber"}}}),i("elx-editable-column",{attrs:{prop:"key",label:"字段名",width:"120","edit-render":{name:"ElSelect",options:e.keyList,events:{change:e.uniqueKey}}}}),i("elx-editable-column",{attrs:{prop:"name",label:"字段描述",width:"120","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),i("elx-editable-column",{attrs:{prop:"readonly",label:"是否只读",width:"100",formatter:e.formatterRequired,"edit-render":{name:"ElSwitch"}}}),i("elx-editable-column",{attrs:{prop:"required",label:"是否必填",width:"100",formatter:e.formatterRequired,"edit-render":{name:"ElSwitch"}}}),i("elx-editable-column",{attrs:{prop:"validator",label:"校验规则",width:"100","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),i("elx-editable-column",{attrs:{prop:"validMsg",label:"校验提示",width:"100","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),i("elx-editable-column",{attrs:{prop:"visible",label:"默认显示",width:"100",formatter:e.formatterRequired,"edit-render":{name:"ElSwitch"}}}),i("elx-editable-column",{attrs:{prop:"type",label:"渲染类型",width:"100","edit-render":{name:"ElSelect",options:e.renderTypeList}}}),i("elx-editable-column",{attrs:{prop:"width",label:"设置宽度",width:"100","edit-render":{name:"ElInput"}}}),i("elx-editable-column",{attrs:{prop:"align",label:"对齐方式",width:"100","edit-render":{name:"ElSelect",options:e.alignList,attrs:{clearable:!0}}}}),i("elx-editable-column",{attrs:{prop:"describe",label:"备注","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),i("elx-editable-column",{attrs:{prop:"updateTime",label:"更新时间",width:"150",formatter:e.formatterDate}}),i("elx-editable-column",{attrs:{prop:"createTime",label:"创建时间",width:"150",formatter:e.formatterDate}}),i("elx-editable-column",{attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.$refs.elxEditable1.hasActiveRow(t.row)?[i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(i){return e.saveRowEvent("elxEditable1",t.row)}}},[e._v("保存")]),i("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(i){return e.cancelRowEvent("elxEditable1",t.row)}}},[e._v("取消")])]:[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){return e.openActiveRowEvent("elxEditable1",t.row)}}},[e._v("编辑")]),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.removeEvent("elxEditable1",t.row)}}},[e._v("删除")])]]}}])})],1)],1),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.userLoading,expression:"userLoading"}]},[i("div",{staticClass:"manual-table7-oper"},[i("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.insertEvent("elxEditable2")}}},[e._v("新增")]),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteSelectedEvent("elxEditable2")}}},[e._v("删除选中")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.reloadConf}},[e._v("刷新配置")])],1),i("elx-editable",{ref:"elxEditable2",staticStyle:{width:"100%"},attrs:{size:"mini",border:"",height:"260",data:e.userList,"edit-rules":e.validRules,"edit-config":{trigger:"manual",mode:"row",clearActiveMethod:e.clearActiveMethod2}},on:{"update:data":function(t){e.userList=t}}},[i("elx-editable-column",{attrs:{type:"selection",width:"55"}}),i("elx-editable-column",{attrs:{type:"index",width:"55"},scopedSlots:e._u([{key:"header",fn:function(){return[i("i",{staticClass:"el-icon-setting",on:{click:function(t){e.dialogVisible=!0}}})]},proxy:!0}])}),e._l(e.columnConfigs,function(t){return[t._show?[i("elx-editable-column",e._b({key:t.prop},"elx-editable-column",t,!1))]:e._e()]}),i("elx-editable-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.$refs.elxEditable2.hasActiveRow(t.row)?[i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(i){return e.saveRowEvent("elxEditable2",t.row)}}},[e._v("保存")]),i("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(i){return e.cancelRowEvent("elxEditable2",t.row)}}},[e._v("取消")])]:[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){return e.openActiveRowEvent("elxEditable2",t.row)}}},[e._v("编辑")]),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.removeEvent("elxEditable2",t.row)}}},[e._v("删除")])]]}}])})],2),i("el-pagination",{staticClass:"manual-table7-pagination",attrs:{"current-page":e.userPageVO.currentPage,"page-sizes":[5,10,15,20,50,100,150,200],"page-size":e.userPageVO.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.userPageVO.totalResult},on:{"size-change":e.handleSizeChange2,"current-change":e.handleCurrentChange2}}),i("el-dialog",{attrs:{title:"自定义列",visible:e.dialogVisible,width:"540px","append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t},open:e.openCustomEvent}},[i("el-transfer",{attrs:{data:e.columnConfigs,titles:["隐藏列","显示列"],props:{key:"prop",label:"label"}},model:{value:e.selectColumns,callback:function(t){e.selectColumns=t},expression:"selectColumns"}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.resetCustomEvent}},[e._v("重 置")]),i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.saveCustomEvent}},[e._v("保 存")])],1)],1)],1)])},a=[],r=(i("6762"),i("2fdb"),i("7514"),i("3b2b"),i("7f7f"),i("ac6a"),i("c695")),l=i.n(r),o=i("628a"),s=i.n(o),c=i("5c96"),u={data:function(){return{keyList:["name","age","date","role","phone","email","attr1","attr2","attr3","attr4","attr5"].map(function(e){return{value:e,label:e,attrs:{disabled:!1}}}),alignList:[{value:"left",label:"居左"},{value:"center",label:"居中"},{value:"right",label:"居右"}],renderTypeList:[{value:"ElInput",label:"文本框"},{value:"ElInputNumber",label:"数值"},{value:"ElDatePicker",label:"日期"}],columnList:[],columnLoading:!1,userList:[],userLoading:!1,userPageVO:{currentPage:1,pageSize:5,totalResult:0},validRules:null,isClearActiveFlag:!0,dialogVisible:!1,selectColumns:[],columnConfigs:[]}},created:function(){this.findColumnList(),this.findConfColumnsList(),this.findUserList()},methods:{findColumnList:function(){var e=this;this.columnLoading=!0,s.a.doGet("/api/column/list").then(function(t){var i=t.data;e.columnList=i,e.columnLoading=!1,e.uniqueKey()})},findUserList:function(){var e=this;this.userLoading=!0,s.a.doGet("/api/user/page/list/".concat(this.userPageVO.pageSize,"/").concat(this.userPageVO.currentPage)).then(function(t){var i=t.data,n=i.page,a=i.result;e.userList=a,e.userPageVO.totalResult=n.totalResult,e.userLoading=!1})},findConfColumnsList:function(){var e=this;return s.a.doGet("/api/column/list",{sort:"seq",order:"asc"}).then(function(t){var i=t.data,n={},a=[];i.forEach(function(e){var t={prop:e.key,label:e.name,width:e.width,align:e.align,_default:e.visible,_show:e.visible};e.required&&(n[e.key]=[{required:!0,message:"请填写".concat(e.name),trigger:"change"}]),e.validator&&(n[e.key]?n[e.key].push({pattern:new RegExp(e.validator),message:e.validMsg||"".concat(e.name,"校验不通过，请重新填写"),trigger:"change"}):n[e.key]=[{pattern:new RegExp(e.validator),message:e.validMsg||"".concat(e.name,"校验不通过，请重新填写"),trigger:"change"}]),e.readonly||(t.editRender={name:e.type}),a.push(t)}),e.validRules=n,e.columnConfigs=a})},reloadConf:function(){this.findConfColumnsList()},handleSizeChange2:function(e){this.userPageVO.pageSize=e,this.findUserList()},handleCurrentChange2:function(e){this.userPageVO.currentPage=e,this.findUserList()},formatterRequired:function(e,t,i,n){return i?"是":"否"},formatterDate:function(e,t,i,n){return l.a.toDateString(i,"yyyy-MM-dd HH:mm:ss")},formatColumnSize:function(e,t,i,n){if(l.a.isNumber(i)){for(var a=["B","KB","MB","GB","TB"],r="",o=l.a.toNumber(i),s=0;s<a.length;s++){if(r=a[s],!(o>=1024))break;o=l.a.toFixedNumber(o/1024,2)}return"".concat(o," ").concat(r)}return""},uniqueKey:function(e,t){var i=this.columnList;this.keyList.forEach(function(e){e.attrs.disabled=i.some(function(t){return t.key===e.value})}),e&&this.$refs.elxEditable1.updateStatus(e)},insertEvent:function(e){var t=this,i=this.$refs[e].getActiveRow(),n=this.$refs[e].getAllRecords(),a=n.insertRecords;if(i||a.length)i?this.checkSaveData(e,i.row):a&&this.checkSaveData(e,a[0]);else switch(e){case"elxEditable1":var r=this.keyList.find(function(e){return!e.attrs.disabled});this.$refs[e].insert({key:r.value,name:r.value,readonly:!1,required:!1,visible:!0,type:"ElInput"}).then(function(i){var n=i.row;t.$refs[e].setActiveRow(n)});break;case"elxEditable2":this.$refs[e].insert().then(function(i){var n=i.row;t.$refs[e].setActiveRow(n)});break}},clearActiveMethod1:function(e){var t=e.type,i=e.row;e.rowIndex;return this.isClearActiveFlag&&"out"===t?this.checkSaveData("elxEditable1",i):this.isClearActiveFlag},clearActiveMethod2:function(e){var t=e.type,i=e.row;e.rowIndex;return this.isClearActiveFlag&&"out"===t?this.checkSaveData("elxEditable2",i):this.isClearActiveFlag},checkSaveData:function(e,t){var i=this;if(!this.$refs[e].checkValid().error)if(t.id){if(this.$refs[e].hasRowChange(t))return this.isClearActiveFlag=!1,c["MessageBox"].confirm("您离开了表格，检测未保存的内容，是否在离开前保存修改?","温馨提示",{closeOnClickModal:!1,distinguishCancelAndClose:!0,confirmButtonText:"保存",cancelButtonText:"放弃修改",type:"warning"}).then(function(){i.$refs[e].clearActive(),i.saveRowEvent(e,t)}).catch(function(n){"cancel"===n?(i.$refs[e].revert(t),i.$refs[e].clearActive()):i.$refs[e].setActiveRow(t)}).then(function(){i.isClearActiveFlag=!0}),!1}else this.isClearActiveFlag=!1,c["MessageBox"].confirm("该数据未保存，是否移除?","温馨提示",{confirmButtonText:"移除数据",cancelButtonText:"返回继续",type:"warning"}).then(function(n){"confirm"===n&&i.$refs[e].remove(t)}).catch(function(e){return e}).then(function(){i.isClearActiveFlag=!0});return this.isClearActiveFlag},openActiveRowEvent:function(e,t){var i=this;this.$nextTick(function(){var n=i.$refs[e].getActiveRow();n?n.row!==t&&i.$refs[e].checkValid().error||(n.isUpdate?(i.isClearActiveFlag=!1,c["MessageBox"].confirm("检测到未保存的内容，是否在离开前保存修改?","温馨提示",{closeOnClickModal:!1,distinguishCancelAndClose:!0,confirmButtonText:"保存",cancelButtonText:"放弃修改",type:"warning"}).then(function(){i.$refs[e].setActiveRow(t),i.saveRowEvent(e,n.row)}).catch(function(a){"cancel"===a&&(i.$refs[e].revert(n.row),i.$refs[e].setActiveRow(t))}).then(function(){i.isClearActiveFlag=!0})):i.$refs[e].setActiveRow(t)):i.$refs[e].setActiveRow(t)})},removeEvent:function(e,t){var i=this;t.id?(this.isClearActiveFlag=!1,c["MessageBox"].confirm("确定永久删除该数据?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){switch(e){case"elxEditable1":i.columnLoading=!0,s.a.doDelete("/api/column/delete/".concat(t.id)).then(function(e){e.data;i.findColumnList()}).catch(function(e){i.columnLoading=!1});break;case"elxEditable2":i.userLoading=!0,s.a.doDelete("/api/user/delete/".concat(t.id)).then(function(e){e.data;i.findUserList()}).catch(function(e){i.userLoading=!1});break}}).catch(function(e){return e}).then(function(){i.isClearActiveFlag=!0})):this.$refs[e].remove(t)},deleteSelectedEvent:function(e){var t=this,i=this.$refs[e].getSelecteds();i.length?(this.isClearActiveFlag=!1,c["MessageBox"].confirm("确定删除所选数据?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){switch(e){case"elxEditable1":t.columnLoading=!0,s.a.doPost("/api/column/save",{removeRecords:i}).then(function(e){e.data;Object(c["Message"])({type:"success",message:"删除成功!"}),t.findColumnList()}).catch(function(e){t.columnLoading=!1});break;case"elxEditable2":t.userLoading=!0,s.a.doPost("/api/user/save",{removeRecords:i}).then(function(e){e.data;Object(c["Message"])({type:"success",message:"删除成功!"}),t.findUserList()}).catch(function(e){t.userLoading=!1});break}}).catch(function(e){return e}).then(function(){t.isClearActiveFlag=!0})):Object(c["Message"])({type:"info",message:"请至少选择一条数据！"})},saveRowEvent:function(e,t){var i=this;this.$refs[e].validateRow(t,function(n){var a;if(n)switch(e){case"elxEditable1":a="/api/column/add",t.id&&(a="/api/column/update"),i.columnLoading=!0,i.$refs[e].clearActive(),s.a.doPost(a,t).then(function(e){e.data;i.findColumnList(),Object(c["Message"])({message:"保存成功",type:"success"})}).catch(function(e){i.columnLoading=!1});break;case"elxEditable2":a="/api/user/add",t.id&&(a="/api/user/update"),l.a.isDate(t.date)&&(t.date=t.date.getTime()),i.userLoading=!0,i.$refs[e].clearActive(),s.a.doPost(a,t).then(function(e){e.data;i.findUserList(),Object(c["Message"])({message:"保存成功",type:"success"})}).catch(function(e){i.userLoading=!1});break}})},cancelRowEvent:function(e,t){var i=this;t.id?this.$refs[e].hasRowChange(t)?(this.isClearActiveFlag=!1,c["MessageBox"].confirm("检测到未保存的内容，确定放弃修改?","温馨提示",{closeOnClickModal:!1,confirmButtonText:"放弃更改",cancelButtonText:"返回",type:"warning"}).then(function(n){"confirm"===n?(i.$refs[e].clearActive(),i.$refs[e].revert(t)):i.$refs[e].setActiveRow(t)}).catch(function(e){return e}).then(function(){i.isClearActiveFlag=!0})):this.$refs[e].clearActive():(this.isClearActiveFlag=!1,c["MessageBox"].confirm("该数据未保存，是否移除?","温馨提示",{confirmButtonText:"移除数据",cancelButtonText:"返回继续",type:"warning"}).then(function(n){"confirm"===n&&i.$refs[e].remove(t)}).catch(function(e){return e}).then(function(){i.isClearActiveFlag=!0}))},openCustomEvent:function(){this.selectColumns=this.columnConfigs.filter(function(e){return e._show}).map(function(e){return e.prop})},resetCustomEvent:function(){this.selectColumns=this.columnConfigs.filter(function(e){return e._default}).map(function(e){return e.prop})},saveCustomEvent:function(){var e=this;if(!this.selectColumns.length)return Object(c["Message"])({type:"error",message:"请至少选择一列！"});this.dialogVisible=!1,this.columnConfigs.forEach(function(t){t._show=e.selectColumns.includes(t.prop)})}}},d=u,f=(i("a15b"),i("2877")),v=Object(f["a"])(d,n,a,!1,null,null,null);t["default"]=v.exports}}]);