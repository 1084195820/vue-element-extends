(window["webpackJsonpVueElementExtends"]=window["webpackJsonpVueElementExtends"]||[]).push([["editable-anual"],{a9bb:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("p",{staticStyle:{color:"red","font-size":"12px"}},[e._v("带分页、条件筛选")]),a("el-form",{ref:"tableform",staticClass:"manual-table2-form",attrs:{size:"mini",inline:!0,model:e.formData}},[a("el-form-item",{attrs:{label:"名字",prop:"name"}},[a("el-input",{attrs:{placeholder:"名字"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"角色",prop:"role"}},[a("el-input",{attrs:{placeholder:"请输入角色"},model:{value:e.formData.role,callback:function(t){e.$set(e.formData,"role",t)},expression:"formData.role"}})],1),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-select",{attrs:{placeholder:"性别"},model:{value:e.formData.sex,callback:function(t){e.$set(e.formData,"sex",t)},expression:"formData.sex"}},e._l(e.sexList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.searchEvent}},[e._v("查询")]),a("el-button",{on:{click:function(t){return e.$refs.tableform.resetFields()}}},[e._v("重置")])],1)],1),a("div",{staticClass:"manual-table2-oper"},[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.insertEvent}},[e._v("新增")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.deleteSelectedEvent}},[e._v("删除选中")]),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.exportCsvEvent}},[e._v("导出")])],1),a("elx-editable",{ref:"elxEditable",staticClass:"manual-table2",staticStyle:{width:"100%"},attrs:{border:"",height:"466",size:"mini",data:e.list,"edit-config":{trigger:"manual",mode:"row",clearActiveMethod:e.clearActiveMethod}},on:{"update:data":function(t){e.list=t}}},[a("elx-editable-column",{attrs:{type:"selection",width:"55"}}),a("elx-editable-column",{attrs:{prop:"id",label:"ID",width:"80"}}),a("elx-editable-column",{attrs:{prop:"name",label:"名字","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),a("elx-editable-column",{attrs:{prop:"sex",label:"性别","edit-render":{name:"ElSelect",options:e.sexList}}}),a("elx-editable-column",{attrs:{prop:"age",label:"年龄","edit-render":{name:"ElInputNumber",attrs:{min:1,max:200}}}}),a("elx-editable-column",{attrs:{prop:"region",label:"地区",width:"200","edit-render":{name:"ElCascader",attrs:{options:e.regionList}}}}),a("elx-editable-column",{attrs:{prop:"role",label:"角色","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),a("elx-editable-column",{attrs:{prop:"describe",label:"文本域","show-overflow-tooltip":"","edit-render":{name:"ElInput",attrs:{type:"textarea",autosize:{minRows:1,maxRows:4}}}}}),a("elx-editable-column",{attrs:{prop:"date",label:"日期","edit-render":{name:"ElDatePicker",attrs:{type:"datetime",format:"yyyy-MM-dd"}}}}),a("elx-editable-column",{attrs:{prop:"flag",label:"是否启用",formatter:e.formatterFlag,"edit-render":{name:"ElSwitch"}}}),a("elx-editable-column",{attrs:{prop:"updateTime",label:"更新时间",width:"160",formatter:e.formatterDate}}),a("elx-editable-column",{attrs:{prop:"createTime",label:"创建时间",width:"160",formatter:e.formatterDate}}),a("elx-editable-column",{attrs:{prop:"attr3",label:"链接"}},[[a("a",{attrs:{href:"https://github.com/xuliangzhan/vue-element-extends",target:"_blank"}},[e._v("打开链接")])]],2),a("elx-editable-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.$refs.elxEditable.hasActiveRow(t.row)?[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return e.saveRowEvent(t.row)}}},[e._v("保存")]),a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){return e.cancelRowEvent(t.row)}}},[e._v("取消")])]:[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.openActiveRowEvent(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.removeEvent(t.row)}}},[e._v("删除")])]]}}])})],1),a("el-pagination",{staticClass:"manual-table2-pagination",attrs:{"current-page":e.pageVO.currentPage,"page-sizes":[5,10,15,20,50,100,150,200],"page-size":e.pageVO.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageVO.totalResult},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},i=[],l=a("0a0d"),r=a.n(l),s=a("c695"),o=a.n(s),c=a("628a"),u=a.n(c),d=a("5c96"),f={data:function(){return{loading:!1,sexList:[],regionList:[],list:[],formData:{name:null,sex:null,role:null},pageVO:{currentPage:1,pageSize:10,totalResult:0},isClearActiveFlag:!0}},created:function(){this.findSexList(),this.findRegionList(),this.findList()},methods:{findList:function(){var e=this;this.loading=!0,u.a.doGet("/api/user/page/list/".concat(this.pageVO.pageSize,"/").concat(this.pageVO.currentPage),this.formData).then(function(t){var a=t.data,n=a.page,i=a.result;e.list=i,e.pageVO.totalResult=n.totalResult,e.loading=!1}).catch(function(t){e.loading=!1})},findSexList:function(){var e=this;u.a.doGet("/api/conf/sex/list").then(function(t){var a=t.data;e.sexList=a})},findRegionList:function(){var e=this;u.a.doGet("/api/conf/region/list").then(function(t){var a=t.data;e.regionList=a})},searchEvent:function(){this.pageVO.currentPage=1,this.findList()},handleSizeChange:function(e){this.pageVO.pageSize=e,this.findList()},handleCurrentChange:function(e){this.pageVO.currentPage=e,this.findList()},formatterFlag:function(e,t,a,n){return a?"是":"否"},formatterDate:function(e,t,a,n){return o.a.toDateString(a,"yyyy-MM-dd HH:mm:ss")},clearActiveMethod:function(e){var t=e.type,a=e.row;return this.isClearActiveFlag&&"out"===t?this.checkOutSave(a):this.isClearActiveFlag},insertEvent:function(){var e=this,t=this.$refs.elxEditable.getActiveRow(),a=this.$refs.elxEditable.getAllRecords(),n=a.insertRecords;t||n.length||this.$refs.elxEditable.insert({name:"New ".concat(r()()),age:26,flag:!1}).then(function(t){var a=t.row;e.$refs.elxEditable.setActiveRow(a)})},checkOutSave:function(e){var t=this;if(e.id){if(this.$refs.elxEditable.hasRowChange(e))return this.isClearActiveFlag=!1,d["MessageBox"].confirm("检测到未保存的内容，请确认操作?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"保存数据",cancelButtonText:"取消修改",type:"warning"}).then(function(){t.$refs.elxEditable.clearActive(),t.saveRowEvent(e)}).catch(function(a){"cancel"===a&&(t.$refs.elxEditable.revert(e),t.$refs.elxEditable.clearActive())}).then(function(){t.isClearActiveFlag=!0}),!1}else this.isClearActiveFlag=!1,d["MessageBox"].confirm("该数据未保存，请确认操作?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"保存数据",cancelButtonText:"移除数据",type:"warning"}).then(function(a){t.$refs.elxEditable.clearActive(),t.saveRowEvent(e)}).catch(function(a){"cancel"===a&&t.$refs.elxEditable.remove(e)}).then(function(){t.isClearActiveFlag=!0});return this.isClearActiveFlag},openActiveRowEvent:function(e){var t=this;this.$nextTick(function(){var a=t.$refs.elxEditable.getActiveRow();a&&a.isUpdate?(t.isClearActiveFlag=!1,d["MessageBox"].confirm("检测到未保存的内容，请确认操作?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"保存数据",cancelButtonText:"取消修改",type:"warning"}).then(function(){t.$refs.elxEditable.setActiveRow(e),t.saveRowEvent(a.row)}).catch(function(n){"cancel"===n&&(t.$refs.elxEditable.revert(a.row),t.$refs.elxEditable.setActiveRow(e))}).then(function(){t.isClearActiveFlag=!0})):t.$refs.elxEditable.setActiveRow(e)})},cancelRowEvent:function(e){var t=this;e.id?this.$refs.elxEditable.hasRowChange(e)?(this.isClearActiveFlag=!1,d["MessageBox"].confirm("检测到未保存的内容，是否取消修改?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"取消修改",cancelButtonText:"返回继续",type:"warning"}).then(function(a){t.$refs.elxEditable.clearActive(),t.$refs.elxEditable.revert(e)}).catch(function(a){"cancel"===a&&t.$refs.elxEditable.setActiveRow(e)}).then(function(){t.isClearActiveFlag=!0})):this.$refs.elxEditable.clearActive():(this.isClearActiveFlag=!1,d["MessageBox"].confirm("该数据未保存，是否移除?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"移除数据",cancelButtonText:"返回继续",type:"warning"}).then(function(a){"confirm"===a&&t.$refs.elxEditable.remove(e)}).catch(function(e){return e}).then(function(){t.isClearActiveFlag=!0}))},removeEvent:function(e){var t=this;e.id?(this.isClearActiveFlag=!1,d["MessageBox"].confirm("确定永久删除该数据?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.loading=!0,u.a.doDelete("/api/user/delete/".concat(e.id)).then(function(e){e.data;t.findList()}).catch(function(e){t.loading=!1})}).catch(function(e){return e}).then(function(){t.isClearActiveFlag=!0})):this.$refs.elxEditable.remove(e)},deleteSelectedEvent:function(){var e=this,t=this.$refs.elxEditable.getSelecteds();t.length?(this.isClearActiveFlag=!1,d["MessageBox"].confirm("确定删除所选数据?","温馨提示",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.loading=!0,u.a.doPost("/api/user/save",{removeRecords:t}).then(function(t){t.data;Object(d["Message"])({type:"success",message:"删除成功!"}),e.findList()}).catch(function(t){e.loading=!1})}).catch(function(e){return e}).then(function(){e.isClearActiveFlag=!0})):Object(d["Message"])({type:"info",message:"请至少选择一条数据！"})},saveRowEvent:function(e){var t=this;this.$refs.elxEditable.validateRow(e,function(a){if(a){var n="/api/user/add";e.id&&(n="/api/user/update"),o.a.isDate(e.date)&&(e.date=e.date.getTime()),t.loading=!0,t.$refs.elxEditable.clearActive(),u.a.doPost(n,e).then(function(e){e.data;t.findList(),Object(d["Message"])({message:"保存成功",type:"success"})}).catch(function(e){t.loading=!1})}})},exportCsvEvent:function(){this.$refs.elxEditable.exportCsv()}}},h=f,m=(a("e9b1"),a("2877")),g=Object(m["a"])(h,n,i,!1,null,null,null);t["default"]=g.exports},d2d6:function(e,t,a){},e9b1:function(e,t,a){"use strict";var n=a("d2d6"),i=a.n(n);i.a}}]);