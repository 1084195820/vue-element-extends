(window["webpackJsonpVueElementExtends"]=window["webpackJsonpVueElementExtends"]||[]).push([["editable-dblclick"],{"0cd9":function(e,t,n){var i=n("f772"),a=Math.floor;e.exports=function(e){return!i(e)&&isFinite(e)&&a(e)===e}},1685:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("p",{staticStyle:{color:"red","font-size":"12px"}},[e._v("name字段（校验必填，校验3-50个字符）nickname字段（校验5-20个字符）sex字段（校验必填，校验手机号码）age字段（校验必填，自定义校验，18-60之间）phone字段（校验必填，校验手机号码）rate字段（校验必填，校验最少选中2颗星）url（校验必填，校验URL路径）attr1（校验数字）attr2（校验整数）attr3（校验小数）")]),n("el-form",{ref:"tableform",staticClass:"dblclick-table4-form",attrs:{size:"mini",inline:!0,model:e.formData}},[n("el-form-item",{attrs:{label:"名字",prop:"name"}},[n("el-input",{attrs:{placeholder:"请输入名字"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),n("el-form-item",{attrs:{label:"角色",prop:"role"}},[n("el-input",{attrs:{placeholder:"请输入角色"},model:{value:e.formData.role,callback:function(t){e.$set(e.formData,"role",t)},expression:"formData.role"}})],1),n("el-form-item",{attrs:{label:"性别",prop:"sex"}},[n("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.formData.sex,callback:function(t){e.$set(e.formData,"sex",t)},expression:"formData.sex"}},e._l(e.sexList,function(e,t){return n("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.searchEvent}},[e._v("查询")]),n("el-button",{on:{click:function(t){return e.$refs.tableform.resetFields()}}},[e._v("重置")])],1)],1),n("div",{staticClass:"dblclick-table4-oper"},[n("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.insertEvent}},[e._v("新增")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.pendingRemoveEvent}},[e._v("标记/取消删除")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.deleteSelectedEvent}},[e._v("删除选中")]),n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:e.submitEvent}},[e._v("保存")]),n("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.exportCsvEvent}},[e._v("导出")])],1),n("elx-editable",{ref:"elxEditable",staticClass:"dblclick-table4",staticStyle:{width:"100%"},attrs:{border:"",height:"466",size:"mini",data:e.list,"row-class-name":e.tableRowClassName,"edit-rules":e.validRules,"edit-config":{trigger:"dblclick",mode:"row",useDefaultValidTip:!0}},on:{"update:data":function(t){e.list=t}}},[n("elx-editable-column",{attrs:{type:"selection",width:"55"}}),n("elx-editable-column",{attrs:{prop:"id",label:"ID",width:"80"}}),n("elx-editable-column",{attrs:{prop:"name",label:"名字","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),n("elx-editable-column",{attrs:{prop:"sex",label:"性别","edit-render":{name:"ElSelect",options:e.sexList}}}),n("elx-editable-column",{attrs:{prop:"age",label:"年龄","edit-render":{name:"ElInputNumber",attrs:{min:1,max:200}}}}),n("elx-editable-column",{attrs:{prop:"region",label:"地区",width:"200","edit-render":{name:"ElCascader",attrs:{options:e.regionList}}}}),n("elx-editable-column",{attrs:{prop:"role",label:"角色","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),n("elx-editable-column",{attrs:{prop:"date",label:"日期",width:"160","edit-render":{name:"ElDatePicker",attrs:{type:"datetime",format:"yyyy-MM-dd"}}}}),n("elx-editable-column",{attrs:{prop:"flag",label:"是否启用","edit-render":{name:"ElSwitch",type:"visible"}}}),n("elx-editable-column",{attrs:{prop:"rate",label:"评分","min-width":"150","edit-render":{name:"ElRate",type:"visible"}}}),n("elx-editable-column",{attrs:{prop:"describe",label:"备注","show-overflow-tooltip":"","edit-render":{name:"ElInput",attrs:{type:"textarea",autosize:{minRows:1,maxRows:4}}}}}),n("elx-editable-column",{attrs:{prop:"updateTime",label:"更新时间",width:"160",formatter:e.formatterDate}}),n("elx-editable-column",{attrs:{prop:"createTime",label:"创建时间",width:"160",formatter:e.formatterDate}}),n("elx-editable-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.removeEvent(t.row)}}},[e._v("删除")])]}}])})],1),n("el-pagination",{staticClass:"dblclick-table4-pagination",attrs:{"current-page":e.pageVO.currentPage,"page-sizes":[5,10,15,20,50,100,150,200],"page-size":e.pageVO.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageVO.totalResult},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},a=[],s=(n("ac6a"),n("c5f6"),n("e814")),r=n.n(s),l=n("3be2"),o=n.n(l),c=n("c695"),d=n.n(c),u=n("628a"),f=n.n(u),m=n("5c96"),p={data:function(){var e=function(e,t,n){if(!t)return n(new Error("年龄不能为空"));setTimeout(function(){o()(t)?r()(t)<18||r()(t)>60?n(new Error("年龄必须在18-60之间")):n():n(new Error("请输入数字值"))},50)},t=function(e,t,n){r()(t||0)<2?n(new Error("最小选择2颗星")):n()},n=function(e,t,n){!t||d.a.isInteger(Number(t))?n():n(new Error("请输入整数"))},i=function(e,t,n){!t||d.a.isFloat(Number(t))?n():n(new Error("请输入小数"))};return{loading:!1,sexList:[],regionList:[],list:[],formData:{name:null,sex:null,role:null},pageVO:{currentPage:1,pageSize:10,totalResult:0},pendingRemoveList:[],validRules:{name:[{required:!0,message:"名称必须填写",trigger:"change"},{min:3,max:50,message:"名称长度在 3 到 50 个字符",trigger:"change"}],nickname:[{min:5,max:20,message:"名称长度在 5 到 20 个字符",trigger:"change"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],region:[{required:!0,message:"请选择地区",trigger:"change"}],age:[{required:!0,message:"年龄必须填写",trigger:"change"},{validator:e,trigger:"change"}],phone:[{required:!0,message:"手机号码必须填写",trigger:"change"},{pattern:/^1[34578][0-9]{9}$/,message:"请输入正确的手机号码",trigger:"change"}],date:[{required:!0,message:"请选择日期",trigger:"change"}],rate:[{required:!0,message:"请选择评分",trigger:"change"},{validator:t,trigger:"change"}],flag:[{required:!0,message:"必须启用",trigger:"change"}],email:[{required:!0,message:"邮件必须填写",trigger:"change"},{pattern:/^[a-z0-9]+([._-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/,message:"格式：http(s)://xxx.com",trigger:"change"}],describe:[{required:!0,message:"备注必填",trigger:"change"},{min:5,max:20,message:"名称长度在 5 到 20 个字符",trigger:"change"}],attr1:[{type:"number",message:"请输入数字",trigger:"change"}],attr2:[{validator:n,trigger:"change"}],attr3:[{validator:i,trigger:"change"}]}}},created:function(){this.findSexList(),this.findRegionList(),this.findList()},methods:{findList:function(){var e=this;this.loading=!0,this.pendingRemoveList=[],f.a.doGet("/api/user/page/list/".concat(this.pageVO.pageSize,"/").concat(this.pageVO.currentPage),this.formData).then(function(t){var n=t.data,i=n.page,a=n.result;e.list=a,e.pageVO.totalResult=i.totalResult,e.loading=!1}).catch(function(t){e.loading=!1})},findSexList:function(){var e=this;f.a.doGet("/api/conf/sex/list").then(function(t){var n=t.data;e.sexList=n})},findRegionList:function(){var e=this;f.a.doGet("/api/conf/region/list").then(function(t){var n=t.data;e.regionList=n})},searchEvent:function(){this.pageVO.currentPage=1,this.findList()},handleSizeChange:function(e){this.pageVO.pageSize=e,this.findList()},handleCurrentChange:function(e){this.pageVO.currentPage=e,this.findList()},formatterDate:function(e,t,n,i){return d.a.toDateString(n,"yyyy-MM-dd HH:mm:ss")},tableRowClassName:function(e){var t=e.row;e.rowIndex;return this.pendingRemoveList.some(function(e){return e===t})?"delete-row":""},insertEvent:function(){var e=this;this.$refs.elxEditable.insert({age:26,flag:!1}).then(function(t){var n=t.row;e.$refs.elxEditable.setActiveRow(n)})},removeEvent:function(e){var t=this;e.id?m["MessageBox"].confirm("确定永久删除该数据?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.loading=!0,f.a.doDelete("/api/user/delete/".concat(e.id)).then(function(e){e.data;t.findList()}).catch(function(e){t.loading=!1})}).catch(function(e){return e}):this.$refs.elxEditable.remove(e)},pendingRemoveEvent:function(){var e=this,t=this.$refs.elxEditable.getSelecteds();if(t.length){var n=[],i=[];t.forEach(function(t){e.pendingRemoveList.some(function(e){return t===e})?i.push(t):n.push(t)}),i.length?this.pendingRemoveList=this.pendingRemoveList.filter(function(e){return i.some(function(t){return t!==e})}).concat(n):n&&(this.pendingRemoveList=this.pendingRemoveList.concat(n)),this.$refs.elxEditable.clearSelection()}else Object(m["Message"])({type:"info",message:"请至少选择一条数据！"})},deleteSelectedEvent:function(){var e=this,t=this.$refs.elxEditable.getSelecteds();t.length?m["MessageBox"].confirm("确定删除所选数据?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.loading=!0,f.a.doPost("/api/user/save",{removeRecords:t}).then(function(t){t.data;Object(m["Message"])({type:"success",message:"删除成功!"}),e.findList()}).catch(function(t){e.loading=!1})}).catch(function(e){return e}):Object(m["Message"])({type:"info",message:"请至少选择一条数据！"})},submitEvent:function(){var e=this,t=this.pendingRemoveList,n=this.$refs.elxEditable.getAllRecords(),i=n.insertRecords,a=n.updateRecords;i.length||a.length||t.length?(i.forEach(function(e){d.a.isDate(e.date)&&(e.date=e.date.getTime())}),a.forEach(function(e){d.a.isDate(e.date)&&(e.date=e.date.getTime())}),this.loading=!0,f.a.doPost("/api/user/save",{insertRecords:i,updateRecords:a,removeRecords:t}).then(function(t){t.data;Object(m["Message"])({type:"success",message:"保存成功!"}),e.findList()}).catch(function(t){e.loading=!1})):Object(m["Message"])({type:"info",message:"数据未改动！"})},exportCsvEvent:function(){this.$refs.elxEditable.exportCsv()}}},g=p,h=(n("1a40"),n("2877")),v=Object(h["a"])(g,i,a,!1,null,null,null);t["default"]=v.exports},"1a40":function(e,t,n){"use strict";var i=n("5c9c"),a=n.n(i);a.a},"1dec":function(e,t,n){},"2e72":function(e,t,n){},"3be2":function(e,t,n){e.exports=n("8790")},4385:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("p",{staticStyle:{color:"red","font-size":"12px"}},[e._v("如果是双击模式会在双击后激活列编辑")]),n("div",{staticClass:"dblclick-table1-oper"},[n("el-button",{attrs:{type:"success",size:"small"},on:{click:e.insertEvent}},[e._v("新增")]),n("el-button",{attrs:{type:"warning",size:"small"},on:{click:e.submitEvent}},[e._v("保存")]),n("el-button",{attrs:{type:"success",size:"small"},on:{click:e.exportCsvEvent}},[e._v("导出")])],1),n("elx-editable",{ref:"editable",staticClass:"dblclick-table1",staticStyle:{width:"100%"},attrs:{border:"",size:"small",data:e.list,"edit-config":{trigger:"dblclick"}},on:{"update:data":function(t){e.list=t}},scopedSlots:e._u([{key:"append",fn:function(){return[n("div",[e._v("-- slot append --")])]},proxy:!0}])},[n("elx-editable-column",{attrs:{prop:"id",label:"ID",width:"80"}}),n("elx-editable-column",{attrs:{prop:"name",label:"角色","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),n("elx-editable-column",{attrs:{prop:"describe",label:"描述","edit-render":{name:"ElInput",attrs:{type:"textarea",autosize:{minRows:1,maxRows:4}}}}}),n("elx-editable-column",{attrs:{prop:"updateTime",label:"更新时间",width:"160",formatter:e.formatterDate}}),n("elx-editable-column",{attrs:{prop:"createTime",label:"创建时间",width:"160",formatter:e.formatterDate}}),n("elx-editable-column",{attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){return e.removeEvent(t.row)}}},[e._v("删除")])]}}])})],1)],1)},a=[],s=(n("ac6a"),n("0a0d")),r=n.n(s),l=n("c695"),o=n.n(l),c=n("628a"),d=n.n(c),u=n("5c96"),f={data:function(){return{loading:!1,list:[]}},created:function(){this.findList()},methods:{findList:function(){var e=this;this.loading=!0,d.a.doGet("/api/role/list").then(function(t){var n=t.data;e.list=n,e.loading=!1}).catch(function(t){e.loading=!1})},formatterDate:function(e,t,n,i){return o.a.toDateString(n,"yyyy-MM-dd HH:mm:ss")},insertEvent:function(){var e=this;this.$refs.elxEditable.insert({name:"New ".concat(r()()),age:26,flag:!1}).then(function(t){var n=t.row;e.$refs.elxEditable.setActiveCell(n,"name")})},removeEvent:function(e){var t=this;e.id?u["MessageBox"].confirm("确定永久删除该数据?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.loading=!0,d.a.doDelete("/api/role/delete/".concat(e.id)).then(function(e){e.data;t.findList()}).catch(function(e){t.loading=!1})}).catch(function(e){return e}):this.$refs.elxEditable.remove(e)},submitEvent:function(){var e=this;this.$refs.elxEditable.validate(function(t){if(t){var n=e.$refs.elxEditable.getAllRecords(),i=n.insertRecords,a=n.updateRecords;i.length||a.length?(i.forEach(function(e){o.a.isDate(e.date)&&(e.date=e.date.getTime())}),a.forEach(function(e){o.a.isDate(e.date)&&(e.date=e.date.getTime())}),e.loading=!0,d.a.doPost("/api/role/save",{insertRecords:i,updateRecords:a}).then(function(t){t.data;Object(u["Message"])({type:"success",message:"保存成功!"}),e.findList()}).catch(function(t){e.loading=!1})):Object(u["Message"])({type:"info",message:"数据未改动！"})}})},exportCsvEvent:function(){this.$refs.elxEditable.exportCsv()}}},m=f,p=(n("d8dc"),n("2877")),g=Object(p["a"])(m,i,a,!1,null,null,null);t["default"]=g.exports},"50ec":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("p",{staticStyle:{color:"red","font-size":"12px"}},[e._v("懒加载树表格：只支持小部分功能")]),n("div",{staticClass:"dblclick-table7-oper"},[n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.pendingRemoveEvent}},[e._v("标记/取消删除")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.deleteSelectedEvent}},[e._v("删除选中")]),n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:e.submitEvent}},[e._v("保存")]),n("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.exportCsvEvent}},[e._v("导出")])],1),n("elx-editable",{ref:"elxEditable",staticClass:"dblclick-table7",staticStyle:{width:"100%"},attrs:{border:"","highlight-current-row":"",size:"mini","row-key":"id",lazy:"",load:e.loadMethod,data:e.list,"row-class-name":e.tableRowClassName,"edit-rules":e.validRules,"edit-config":{trigger:"dblclick",mode:"cell"}},on:{"update:data":function(t){e.list=t},"blur-active":e.blurActiveEvent,"current-change":e.handleCurrentChange}},[n("elx-editable-column",{attrs:{type:"selection",width:"55"}}),n("elx-editable-column",{attrs:{prop:"id",label:"ID",width:"160",formatter:e.formatterId}}),n("elx-editable-column",{attrs:{prop:"name",label:"名称","min-width":"220","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),n("elx-editable-column",{attrs:{prop:"size",label:"大小",width:"100",formatter:e.formatColumnSize}}),n("elx-editable-column",{attrs:{prop:"createTime",label:"创建时间",width:"160",formatter:e.formatterDate}}),n("elx-editable-column",{attrs:{prop:"updateTime",label:"修改时间",width:"160",formatter:e.formatterDate}})],1)],1)},a=[],s=(n("ac6a"),n("c695")),r=n.n(s),l=n("628a"),o=n.n(l),c=n("5c96"),d={data:function(){return{loading:!1,list:[],currentRow:null,pendingRemoveList:[],validRules:{name:[{required:!0,message:"请输入名称",trigger:"change"},{min:3,max:50,message:"名称长度 4-20 个字符",trigger:"change"}]}}},created:function(){this.findList()},methods:{findList:function(){var e=this;return this.loading=!0,this.pendingRemoveList=[],o.a.doGet("/api/file/node/list").then(function(t){var n=t.data;e.list=r.a.toArrayTree(n),e.loading=!1}).catch(function(t){e.loading=!1})},formatterId:function(e,t,n,i){return this.$refs.elxEditable.hasRowInsert(e)?"":n},formatColumnSize:function(e,t,n,i){if(r.a.isNumber(n)){for(var a=["B","KB","MB","GB","TB"],s="",l=r.a.toNumber(n),o=0;o<a.length;o++){if(s=a[o],!(l>=1024))break;l=r.a.toFixedNumber(l/1024,2)}return"".concat(l," ").concat(s)}return""},formatterDate:function(e,t,n,i){return r.a.toDateString(n,"yyyy-MM-dd HH:mm:ss")},tableRowClassName:function(e){var t=e.row;e.rowIndex;return this.pendingRemoveList.some(function(e){return e===t})?"delete-row":""},handleCurrentChange:function(e){this.currentRow=e},blurActiveEvent:function(e,t){this.$refs.elxEditable.validateRow(e)},loadMethod:function(e,t,n){var i=this;this.loading=!0,o.a.doGet("/api/file/node/list",{id:e.id}).then(function(e){var t=e.data;i.loading=!1,n(t)}).catch(function(e){i.loading=!1})},pendingRemoveEvent:function(){var e=this,t=this.$refs.elxEditable.getSelecteds();if(t.length){var n=[],i=[];t.forEach(function(t){e.pendingRemoveList.some(function(e){return t===e})?i.push(t):n.push(t)}),i.length?this.pendingRemoveList=this.pendingRemoveList.filter(function(e){return i.some(function(t){return t!==e})}).concat(n):n&&(this.pendingRemoveList=this.pendingRemoveList.concat(n)),this.$refs.elxEditable.clearSelection()}else Object(c["Message"])({type:"info",message:"请至少选择一条数据！"})},deleteSelectedEvent:function(){var e=this,t=this.$refs.elxEditable.getSelecteds();t.length?c["MessageBox"].confirm("确定删除所选数据?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.loading=!0,o.a.doPost("/api/file/save",{removeRecords:t}).then(function(t){t.data;Object(c["Message"])({type:"success",message:"删除成功!"}),e.findList()}).catch(function(t){e.loading=!1})}).catch(function(e){return e}):Object(c["Message"])({type:"info",message:"请至少选择一条数据！"})},submitEvent:function(){var e=this;this.$refs.elxEditable.validate(function(t){if(t){var n=e.pendingRemoveList,i=e.$refs.elxEditable.getAllRecords(),a=i.updateRecords;a.length||n.length?(a.forEach(function(e){r.a.isDate(e.date)&&(e.date=e.date.getTime())}),e.loading=!0,o.a.doPost("/api/file/save",{updateRecords:a,removeRecords:n}).then(function(t){t.data;Object(c["Message"])({type:"success",message:"保存成功!"}),e.findList()}).catch(function(t){e.loading=!1})):Object(c["Message"])({type:"info",message:"数据未改动！"})}})},exportCsvEvent:function(){this.$refs.elxEditable.exportCsv()}}},u=d,f=(n("70e2"),n("2877")),m=Object(f["a"])(u,i,a,!1,null,null,null);t["default"]=m.exports},"54ec":function(e,t,n){"use strict";var i=n("1dec"),a=n.n(i);a.a},5544:function(e,t,n){},"5c9c":function(e,t,n){},"5d6b":function(e,t,n){var i=n("e53d").parseInt,a=n("a1ce").trim,s=n("e692"),r=/^[-+]?0[xX]/;e.exports=8!==i(s+"08")||22!==i(s+"0x16")?function(e,t){var n=a(String(e),3);return i(n,t>>>0||(r.test(n)?16:10))}:i},"5df3":function(e,t,n){"use strict";var i=n("02f4")(!0);n("01f9")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},"65cc":function(e,t,n){"use strict";var i=n("5544"),a=n.n(i);a.a},6678:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("p",{staticStyle:{color:"red","font-size":"12px"}},[e._v("树表格：支持大部分功能")]),n("p",{staticStyle:{color:"red","font-size":"12px"}},[e._v("可以通过 props 指定 children 属性：props: {children: 'children'}")]),n("p",{staticStyle:{color:"red","font-size":"12px"}},[e._v("通过参数 context-menu-config 配置右键菜单；通过 custom-menu-link 事件处理自定义菜单")]),n("div",{staticClass:"dblclick-table7-oper"},[n("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.insertEvent(!0)}}},[e._v("新增大类")]),n("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.insertEvent()}}},[e._v("新增小类")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.pendingRemoveEvent}},[e._v("标记/取消删除")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.deleteSelectedEvent}},[e._v("删除选中")]),n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:e.validEvent}},[e._v("校验")]),n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:e.submitEvent}},[e._v("保存")]),n("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.exportCsvEvent}},[e._v("导出")])],1),n("elx-editable",{ref:"elxEditable",staticClass:"dblclick-table7",staticStyle:{width:"100%"},attrs:{border:"","highlight-current-row":"",size:"mini","row-key":"id",data:e.list,"row-class-name":e.tableRowClassName,"edit-rules":e.validRules,"edit-config":{trigger:"dblclick",mode:"cell",props:{children:"childList"}},"context-menu-config":{disabledHeader:!0,bodyMenus:e.bodyMenus}},on:{"update:data":function(t){e.list=t},"blur-active":e.blurActiveEvent,"current-change":e.handleCurrentChange,"custom-menu-link":e.customMenuLinkEvent}},[n("elx-editable-column",{attrs:{type:"selection",width:"55"}}),n("elx-editable-column",{attrs:{prop:"id",label:"ID",width:"160",formatter:e.formatterId}}),n("elx-editable-column",{attrs:{prop:"name",label:"名称","min-width":"220","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),n("elx-editable-column",{attrs:{prop:"size",label:"大小",width:"100",formatter:e.formatColumnSize}}),n("elx-editable-column",{attrs:{prop:"createTime",label:"创建时间",width:"160",formatter:e.formatterDate}}),n("elx-editable-column",{attrs:{prop:"updateTime",label:"修改时间",width:"160",formatter:e.formatterDate}}),n("elx-editable-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.removeEvent(t.row)}}},[e._v("删除")])]}}])})],1)],1)},a=[],s=(n("ac6a"),n("c695")),r=n.n(s),l=n("628a"),o=n.n(l),c=n("5c96"),d={data:function(){return{loading:!1,list:[],currentRow:null,pendingRemoveList:[],validRules:{name:[{required:!0,message:"请输入名称",trigger:"change"},{min:3,max:50,message:"名称长度 4-20 个字符",trigger:"change"}]},bodyMenus:[[{code:"insertParent",name:"插入大类",prefixIcon:"el-icon-plus"},{code:"insertChild",name:"插入小类",prefixIcon:"el-icon-plus"},{code:"removeRow",name:"删除行",prefixIcon:"el-icon-minus"}],[{code:"CELL_RESET",name:"清除内容",prefixIcon:"el-icon-close"},{code:"CELL_REVERT",name:"还原内容"}],[{code:"ALL_EXPORT",name:"导出全部.cvs",prefixIcon:"el-icon-download"}]]}},created:function(){this.findList()},methods:{findList:function(){var e=this;return this.loading=!0,this.pendingRemoveList=[],o.a.doGet("/api/file/list").then(function(t){var n=t.data;e.list=r.a.toArrayTree(n,{key:"id",parentKey:"parentId",children:"childList"}),e.loading=!1}).catch(function(t){e.loading=!1})},formatterId:function(e,t,n,i){return this.$refs.elxEditable.hasRowInsert(e)?"":n},formatColumnSize:function(e,t,n,i){if(r.a.isNumber(n)){for(var a=["B","KB","MB","GB","TB"],s="",l=r.a.toNumber(n),o=0;o<a.length;o++){if(s=a[o],!(l>=1024))break;l=r.a.toFixedNumber(l/1024,2)}return"".concat(l," ").concat(s)}return""},formatterDate:function(e,t,n,i){return r.a.toDateString(n,"yyyy-MM-dd HH:mm:ss")},tableRowClassName:function(e){var t=e.row;e.rowIndex;return this.pendingRemoveList.some(function(e){return e===t})?"delete-row":""},handleCurrentChange:function(e){this.currentRow=e},blurActiveEvent:function(e,t){this.$refs.elxEditable.validateRow(e)},customMenuLinkEvent:function(e,t,n,i){switch(e){case"insertParent":this.insertEvent(!0,t);break;case"insertChild":this.insertEvent(!1,t);break;case"removeRow":this.removeEvent(t);break}},insertEvent:function(e,t){var n=this,i={id:r.a.uniqueId("N_"),name:"Name_".concat(r.a.uniqueId()),age:26,flag:!1};t=t||this.currentRow,e&&(i.childList=[{id:r.a.uniqueId("N_"),parentId:i.id,name:"Name_".concat(r.a.uniqueId()),age:26,flag:!1}]),this.$refs.elxEditable.insertAt(i,t).then(function(e){var t=e.row,i=e.parent;i&&(t.parentId=i.id),n.$refs.elxEditable.refresh().then(function(){n.$refs.elxEditable.setActiveCell(t,"name")})})},removeEvent:function(e){var t=this;c["MessageBox"].confirm("确定移除该数据?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$refs.elxEditable.remove(e),t.$refs.elxEditable.refresh()}).catch(function(e){return e})},pendingRemoveEvent:function(){var e=this,t=this.$refs.elxEditable.getSelecteds();if(t.length){var n=[],i=[];t.forEach(function(t){e.pendingRemoveList.some(function(e){return t===e})?i.push(t):n.push(t)}),i.length?this.pendingRemoveList=this.pendingRemoveList.filter(function(e){return i.some(function(t){return t!==e})}).concat(n):n&&(this.pendingRemoveList=this.pendingRemoveList.concat(n)),this.$refs.elxEditable.clearSelection()}else Object(c["Message"])({type:"info",message:"请至少选择一条数据！"})},deleteSelectedEvent:function(){var e=this,t=this.$refs.elxEditable.getSelecteds();t.length?c["MessageBox"].confirm("确定删除所选数据?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.loading=!0,o.a.doPost("/api/file/save",{removeRecords:t}).then(function(t){t.data;Object(c["Message"])({type:"success",message:"删除成功!"}),e.findList()}).catch(function(t){e.loading=!1})}).catch(function(e){return e}):Object(c["Message"])({type:"info",message:"请至少选择一条数据！"})},validEvent:function(){this.$refs.elxEditable.validate(function(e){e?Object(c["Message"])({type:"success",message:"校验通过!"}):Object(c["Message"])({type:"error",message:"校验不通过!"})})},submitEvent:function(){var e=this;this.$refs.elxEditable.validate(function(t){if(t){var n=e.pendingRemoveList,i=e.$refs.elxEditable.getAllRecords(),a=i.insertRecords,s=i.updateRecords;a.length||s.length||n.length?(a.forEach(function(e){r.a.isDate(e.date)&&(e.date=e.date.getTime())}),s.forEach(function(e){r.a.isDate(e.date)&&(e.date=e.date.getTime())}),e.loading=!0,o.a.doPost("/api/file/save",{insertRecords:a,updateRecords:s,removeRecords:n}).then(function(t){t.data;Object(c["Message"])({type:"success",message:"保存成功!"}),e.findList()}).catch(function(t){e.loading=!1})):Object(c["Message"])({type:"info",message:"数据未改动！"})}})},exportCsvEvent:function(){this.$refs.elxEditable.exportCsv()}}},u=d,f=(n("65cc"),n("2877")),m=Object(f["a"])(u,i,a,!1,null,null,null);t["default"]=m.exports},"6f30":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("p",{staticStyle:{color:"red","font-size":"12px"}},[e._v("动态列、个性化列渲染")]),n("div",{staticClass:"dblclick-table6-oper"},[n("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.insertEvent}},[e._v("新增")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.pendingRemoveEvent}},[e._v("标记/取消删除")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.deleteSelectedEvent}},[e._v("删除选中")]),n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:e.submitEvent}},[e._v("保存")]),n("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.exportCsvEvent}},[e._v("导出")])],1),n("elx-editable",{ref:"elxEditable",staticClass:"dblclick-table6",staticStyle:{width:"100%"},attrs:{border:"",height:"466",size:"mini",data:e.list,"custom-columns":e.customColumns,"row-class-name":e.tableRowClassName,"edit-config":{trigger:"dblclick",mode:"cell",isTabKey:!0,isArrowKey:!0,isCheckedEdit:!1}},on:{"update:data":function(t){e.list=t},"update:customColumns":function(t){e.customColumns=t},"update:custom-columns":function(t){e.customColumns=t}}},[n("elx-editable-column",{attrs:{type:"selection",width:"55"}}),n("elx-editable-column",{attrs:{type:"index",width:"55"},scopedSlots:e._u([{key:"header",fn:function(){return[n("i",{staticClass:"el-icon-setting",on:{click:function(t){e.dialogVisible=!0}}})]},proxy:!0}])}),n("elx-editable-column",{attrs:{prop:"sex",label:"性别","edit-render":{name:"ElSelect",options:e.sexList}}}),n("elx-editable-column",{attrs:{prop:"age",label:"年龄","edit-render":{name:"ElInputNumber",attrs:{min:1,max:200}}}}),n("elx-editable-column",{attrs:{prop:"region",label:"地区","edit-render":{name:"ElCascader",attrs:{options:e.regionList}}}}),n("elx-editable-column",{attrs:{prop:"date",label:"日期","edit-render":{name:"ElDatePicker",attrs:{type:"datetime",format:"yyyy-MM-dd"}}}}),n("elx-editable-column",{attrs:{prop:"rate",label:"评分","edit-render":{name:"ElRate",type:"visible"}}}),n("elx-editable-column",{attrs:{prop:"attr1",label:"属性1","edit-render":{name:"ElInput"}}}),n("elx-editable-column",{attrs:{prop:"attr2",label:"属性2","edit-render":{name:"ElInput"}}}),n("elx-editable-column",{attrs:{prop:"attr3",label:"属性3","edit-render":{name:"ElInput"}}}),n("elx-editable-column",{attrs:{prop:"attr4",label:"属性4","edit-render":{name:"ElInput"}}}),n("elx-editable-column",{attrs:{prop:"attr5",label:"属性5","edit-render":{name:"ElInput"}}}),n("elx-editable-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.removeEvent(t.row)}}},[e._v("删除")])]}}])})],1),n("el-pagination",{staticClass:"dblclick-table6-pagination",attrs:{"current-page":e.pageVO.currentPage,"page-sizes":[5,10,15,20,50,100,150,200],"page-size":e.pageVO.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageVO.totalResult},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),n("el-dialog",{attrs:{title:"自定义列",visible:e.dialogVisible,width:"540px","append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t},open:e.openCustomEvent}},[n("el-transfer",{attrs:{data:e.allCustomColumnList,titles:["隐藏列","显示列"],props:{key:"prop",label:"label"}},model:{value:e.selectColumns,callback:function(t){e.selectColumns=t},expression:"selectColumns"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.resetCustomEvent}},[e._v("重 置")]),n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.saveCustomEvent}},[e._v("保 存")])],1)],1)],1)},a=[],s=(n("6762"),n("2fdb"),n("0a0d")),r=n.n(s),l=n("795b"),o=n.n(l),c=(n("ac6a"),n("5df3"),n("c695")),d=n.n(c),u=n("628a"),f=n.n(u),m=n("5c96"),p={data:function(){return{loading:!1,sexList:[],regionList:[],list:[],pageVO:{currentPage:1,pageSize:10,totalResult:0},pendingRemoveList:[],dialogVisible:!1,customColumns:[],selectColumns:[]}},computed:{allCustomColumnList:function(){return this.customColumns.filter(function(e){return e.prop})}},created:function(){var e=this;this.loading=!0,o.a.all([this.findConfColumnsList(),this.findList()]).catch(function(e){return e}).then(function(){e.loading=!1}),this.findSexList(),this.findRegionList()},methods:{findList:function(){var e=this;return this.loading=!0,this.pendingRemoveList=[],f.a.doGet("/api/user/page/list/".concat(this.pageVO.pageSize,"/").concat(this.pageVO.currentPage)).then(function(t){var n=t.data,i=n.page,a=n.result;return e.list=a,e.pageVO.totalResult=i.totalResult,e.loading=!1,a}).catch(function(t){e.loading=!1})},findSexList:function(){var e=this;return f.a.doGet("/api/conf/sex/list").then(function(t){var n=t.data;return e.sexList=n,n})},findRegionList:function(){var e=this;return f.a.doGet("/api/conf/region/list").then(function(t){var n=t.data;return e.regionList=n,n})},findConfColumnsList:function(){var e=this;return f.a.doGet("/api/conf/columns/list").then(function(t){var n=t.data;return e.customColumns=n,n})},searchEvent:function(){this.pageVO.currentPage=1,this.findList()},handleSizeChange:function(e){this.pageVO.pageSize=e,this.findList()},handleCurrentChange:function(e){this.pageVO.currentPage=e,this.findList()},formatterDate:function(e,t,n,i){return d.a.toDateString(n,"yyyy-MM-dd HH:mm:ss")},tableRowClassName:function(e){var t=e.row;e.rowIndex;return this.pendingRemoveList.some(function(e){return e===t})?"delete-row":""},insertEvent:function(){var e=this;this.$refs.elxEditable.insert({name:"New ".concat(r()()),age:26,flag:!1}).then(function(t){var n=t.row;e.$refs.elxEditable.setActiveCell(n,"name")})},removeEvent:function(e){var t=this;e.id?m["MessageBox"].confirm("确定永久删除该数据?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.loading=!0,f.a.doDelete("/api/user/delete/".concat(e.id)).then(function(e){e.data;t.findList()}).catch(function(e){t.loading=!1})}).catch(function(e){return e}):this.$refs.elxEditable.remove(e)},pendingRemoveEvent:function(){var e=this,t=this.$refs.elxEditable.getSelecteds();if(t.length){var n=[],i=[];t.forEach(function(t){e.pendingRemoveList.some(function(e){return t===e})?i.push(t):n.push(t)}),i.length?this.pendingRemoveList=this.pendingRemoveList.filter(function(e){return i.some(function(t){return t!==e})}).concat(n):n&&(this.pendingRemoveList=this.pendingRemoveList.concat(n)),this.$refs.elxEditable.clearSelection()}else Object(m["Message"])({type:"info",message:"请至少选择一条数据！"})},deleteSelectedEvent:function(){var e=this,t=this.$refs.elxEditable.getSelecteds();t.length?m["MessageBox"].confirm("确定删除所选数据?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.loading=!0,f.a.doPost("/api/user/save",{removeRecords:t}).then(function(t){t.data;Object(m["Message"])({type:"success",message:"删除成功!"}),e.findList()}).catch(function(t){e.loading=!1})}).catch(function(e){return e}):Object(m["Message"])({type:"info",message:"请至少选择一条数据！"})},submitEvent:function(){var e=this;this.$refs.elxEditable.validate(function(t){if(t){var n=e.pendingRemoveList,i=e.$refs.elxEditable.getAllRecords(),a=i.insertRecords,s=i.updateRecords;a.length||s.length||n.length?(a.forEach(function(e){d.a.isDate(e.date)&&(e.date=e.date.getTime())}),s.forEach(function(e){d.a.isDate(e.date)&&(e.date=e.date.getTime())}),e.loading=!0,f.a.doPost("/api/user/save",{insertRecords:a,updateRecords:s,removeRecords:n}).then(function(t){t.data;Object(m["Message"])({type:"success",message:"保存成功!"}),e.findList()}).catch(function(t){e.loading=!1})):Object(m["Message"])({type:"info",message:"数据未改动！"})}})},exportCsvEvent:function(){this.$refs.elxEditable.exportCsv()},openCustomEvent:function(){this.selectColumns=this.allCustomColumnList.filter(function(e){return e.visible}).map(function(e){return e.prop})},resetCustomEvent:function(){this.selectColumns=this.allCustomColumnList.map(function(e){return e.prop})},saveCustomEvent:function(){var e=this;if(!this.selectColumns.length)return Object(m["Message"])({type:"error",message:"请至少选择一列！"});this.dialogVisible=!1,this.allCustomColumnList.forEach(function(t){t.visible=e.selectColumns.includes(t.prop)})}}},g=p,h=(n("fc86"),n("2877")),v=Object(h["a"])(g,i,a,!1,null,null,null);t["default"]=v.exports},"70d8":function(e,t,n){},"70e2":function(e,t,n){"use strict";var i=n("ba3b"),a=n.n(i);a.a},"70f7":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("p",{staticStyle:{color:"red","font-size":"12px"}},[e._v("带分页、条件筛选")]),n("el-form",{ref:"tableform",staticClass:"dblclick-table2-form",attrs:{size:"mini",inline:!0,model:e.formData}},[n("el-form-item",{attrs:{label:"名字",prop:"name"}},[n("el-input",{attrs:{placeholder:"请输入名字"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),n("el-form-item",{attrs:{label:"角色",prop:"role"}},[n("el-input",{attrs:{placeholder:"请输入角色"},model:{value:e.formData.role,callback:function(t){e.$set(e.formData,"role",t)},expression:"formData.role"}})],1),n("el-form-item",{attrs:{label:"性别",prop:"sex"}},[n("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.formData.sex,callback:function(t){e.$set(e.formData,"sex",t)},expression:"formData.sex"}},e._l(e.sexList,function(e,t){return n("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.searchEvent}},[e._v("查询")]),n("el-button",{on:{click:function(t){return e.$refs.tableform.resetFields()}}},[e._v("重置")])],1)],1),n("div",{staticClass:"dblclick-table2-oper"},[n("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.insertEvent}},[e._v("新增")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.pendingRemoveEvent}},[e._v("标记/取消删除")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.deleteSelectedEvent}},[e._v("删除选中")]),n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:e.submitEvent}},[e._v("保存")]),n("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.exportCsvEvent}},[e._v("导出")])],1),n("elx-editable",{ref:"elxEditable",staticClass:"dblclick-table2",staticStyle:{width:"100%"},attrs:{border:"",height:"466",size:"mini",data:e.list,"row-class-name":e.tableRowClassName,"edit-config":{trigger:"dblclick",mode:"row"}},on:{"update:data":function(t){e.list=t}}},[n("elx-editable-column",{attrs:{type:"selection",width:"55"}}),n("elx-editable-column",{attrs:{prop:"id",label:"ID",width:"80"}}),n("elx-editable-column",{attrs:{prop:"name",label:"名字","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),n("elx-editable-column",{attrs:{prop:"sex",label:"性别","edit-render":{name:"ElSelect",options:e.sexList}}}),n("elx-editable-column",{attrs:{prop:"age",label:"年龄","edit-render":{name:"ElInputNumber",attrs:{min:1,max:200}}}}),n("elx-editable-column",{attrs:{prop:"region",label:"地区",width:"200","edit-render":{name:"ElCascader",attrs:{options:e.regionList}}}}),n("elx-editable-column",{attrs:{prop:"role",label:"角色","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),n("elx-editable-column",{attrs:{prop:"describe",label:"文本域","show-overflow-tooltip":"","edit-render":{name:"ElInput",attrs:{type:"textarea",autosize:{minRows:1,maxRows:4}}}}}),n("elx-editable-column",{attrs:{prop:"date",label:"日期","edit-render":{name:"ElDatePicker",attrs:{type:"datetime",format:"yyyy-MM-dd"}}}}),n("elx-editable-column",{attrs:{prop:"flag",label:"是否启用","edit-render":{name:"ElSwitch",type:"visible"}}}),n("elx-editable-column",{attrs:{prop:"updateTime",label:"更新时间",width:"160",formatter:e.formatterDate}}),n("elx-editable-column",{attrs:{prop:"createTime",label:"创建时间",width:"160",formatter:e.formatterDate}}),n("elx-editable-column",{attrs:{prop:"attr3",label:"链接"}},[[n("a",{attrs:{href:"https://github.com/xuliangzhan/vue-element-extends",target:"_blank"}},[e._v("打开链接")])]],2),n("elx-editable-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.removeEvent(t.row)}}},[e._v("删除")])]}}])})],1),n("el-pagination",{staticClass:"dblclick-table2-pagination",attrs:{"current-page":e.pageVO.currentPage,"page-sizes":[5,10,15,20,50,100,150,200],"page-size":e.pageVO.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageVO.totalResult},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},a=[],s=(n("ac6a"),n("0a0d")),r=n.n(s),l=n("c695"),o=n.n(l),c=n("628a"),d=n.n(c),u=n("5c96"),f={data:function(){return{loading:!1,sexList:[],regionList:[],list:[],formData:{name:null,sex:null,role:null},pageVO:{currentPage:1,pageSize:10,totalResult:0},pendingRemoveList:[]}},created:function(){this.findSexList(),this.findRegionList(),this.findList()},methods:{findList:function(){var e=this;this.loading=!0,this.pendingRemoveList=[],d.a.doGet("/api/user/page/list/".concat(this.pageVO.pageSize,"/").concat(this.pageVO.currentPage),this.formData).then(function(t){var n=t.data,i=n.page,a=n.result;e.list=a,e.pageVO.totalResult=i.totalResult,e.loading=!1}).catch(function(t){e.loading=!1})},findSexList:function(){var e=this;d.a.doGet("/api/conf/sex/list").then(function(t){var n=t.data;e.sexList=n})},findRegionList:function(){var e=this;d.a.doGet("/api/conf/region/list").then(function(t){var n=t.data;e.regionList=n})},searchEvent:function(){this.pageVO.currentPage=1,this.findList()},handleSizeChange:function(e){this.pageVO.pageSize=e,this.findList()},handleCurrentChange:function(e){this.pageVO.currentPage=e,this.findList()},formatterDate:function(e,t,n,i){return o.a.toDateString(n,"yyyy-MM-dd HH:mm:ss")},tableRowClassName:function(e){var t=e.row;e.rowIndex;return this.pendingRemoveList.some(function(e){return e===t})?"delete-row":""},insertEvent:function(){var e=this;this.$refs.elxEditable.insert({name:"New ".concat(r()()),age:26,flag:!1}).then(function(t){var n=t.row;e.$refs.elxEditable.setActiveRow(n)})},removeEvent:function(e){var t=this;e.id?u["MessageBox"].confirm("确定永久删除该数据?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.loading=!0,d.a.doDelete("/api/user/delete/".concat(e.id)).then(function(e){e.data;t.findList()}).catch(function(e){t.loading=!1})}).catch(function(e){return e}):this.$refs.elxEditable.remove(e)},pendingRemoveEvent:function(){var e=this,t=this.$refs.elxEditable.getSelecteds();if(t.length){var n=[],i=[];t.forEach(function(t){e.pendingRemoveList.some(function(e){return t===e})?i.push(t):n.push(t)}),i.length?this.pendingRemoveList=this.pendingRemoveList.filter(function(e){return i.some(function(t){return t!==e})}).concat(n):n&&(this.pendingRemoveList=this.pendingRemoveList.concat(n)),this.$refs.elxEditable.clearSelection()}else Object(u["Message"])({type:"info",message:"请至少选择一条数据！"})},deleteSelectedEvent:function(){var e=this,t=this.$refs.elxEditable.getSelecteds();t.length?u["MessageBox"].confirm("确定删除所选数据?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.loading=!0,d.a.doPost("/api/user/save",{removeRecords:t}).then(function(t){t.data;Object(u["Message"])({type:"success",message:"删除成功!"}),e.findList()}).catch(function(t){e.loading=!1})}).catch(function(e){return e}):Object(u["Message"])({type:"info",message:"请至少选择一条数据！"})},submitEvent:function(){var e=this;this.$refs.elxEditable.validate(function(t){if(t){var n=e.pendingRemoveList,i=e.$refs.elxEditable.getAllRecords(),a=i.insertRecords,s=i.updateRecords;a.length||s.length||n.length?(a.forEach(function(e){o.a.isDate(e.date)&&(e.date=e.date.getTime())}),s.forEach(function(e){o.a.isDate(e.date)&&(e.date=e.date.getTime())}),e.loading=!0,d.a.doPost("/api/user/save",{insertRecords:a,updateRecords:s,removeRecords:n}).then(function(t){t.data;Object(u["Message"])({type:"success",message:"保存成功!"}),e.findList()}).catch(function(t){e.loading=!1})):Object(u["Message"])({type:"info",message:"数据未改动！"})}})},exportCsvEvent:function(){this.$refs.elxEditable.exportCsv()}}},m=f,p=(n("fb98"),n("2877")),g=Object(p["a"])(m,i,a,!1,null,null,null);t["default"]=g.exports},7445:function(e,t,n){var i=n("63b6"),a=n("5d6b");i(i.G+i.F*(parseInt!=a),{parseInt:a})},"79ac":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("p",{staticStyle:{color:"red","font-size":"12px"}},[e._v("自定义校验提示内容")]),n("div",{staticClass:"dblclick-table3-oper"},[n("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.insertEvent}},[e._v("新增")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.deleteSelectedEvent}},[e._v("删除选中")]),n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:e.validEvent}},[e._v("校验")]),n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:e.submitEvent}},[e._v("保存")]),n("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.exportCsvEvent}},[e._v("导出")])],1),n("elx-editable",{ref:"elxEditable",staticClass:"dblclick-table3",staticStyle:{width:"100%"},attrs:{border:"",height:"466",size:"mini",data:e.list,"edit-rules":e.validRules,"edit-config":{trigger:"dblclick",mode:"cell",validTooltip:{placement:"right",popperClass:"dblclick-table3-validtip"}}},on:{"update:data":function(t){e.list=t},"edit-active":e.editActiveEvent,"blur-active":e.blurActiveEvent,"clear-active":e.clearActiveEvent}},[n("elx-editable-column",{attrs:{type:"selection",width:"55"}}),n("elx-editable-column",{attrs:{prop:"id",label:"ID",width:"80"}}),n("elx-editable-column",{attrs:{prop:"name",label:"名字","show-overflow-tooltip":"","edit-render":{name:"ElInput"}},scopedSlots:e._u([{key:"valid",fn:function(t){return[e._v("自定义校验提示语的样式："),n("br"),e._v(e._s(t.rule.message)),n("br"),e._v("名称为必填字段"),n("br"),n("a",{attrs:{href:"https://github.com/xuliangzhan/vue-element-extends",target:"_blank"}},[e._v("参考API说明")])]}}])}),n("elx-editable-column",{attrs:{prop:"sex",label:"性别","edit-render":{name:"ElSelect",options:e.sexList}}}),n("elx-editable-column",{attrs:{prop:"age",label:"年龄",align:"center","edit-render":{name:"ElInputNumber"}}}),n("elx-editable-column",{attrs:{prop:"region",label:"地区",width:"200","edit-render":{name:"ElCascader",attrs:{options:e.regionList}}}}),n("elx-editable-column",{attrs:{prop:"role",label:"角色","show-overflow-tooltip":"","edit-render":{name:"ElInput"}}}),n("elx-editable-column",{attrs:{prop:"describe",label:"文本域","show-overflow-tooltip":"","edit-render":{name:"ElInput",attrs:{type:"textarea",autosize:{minRows:1,maxRows:4}}}}}),n("elx-editable-column",{attrs:{prop:"date",label:"日期","edit-render":{name:"ElDatePicker",attrs:{type:"datetime",format:"yyyy-MM-dd"}}}}),n("elx-editable-column",{attrs:{prop:"flag",label:"是否启用","edit-render":{name:"ElSwitch",type:"visible"}}}),n("elx-editable-column",{attrs:{prop:"updateTime",label:"更新时间",width:"160",formatter:e.formatterDate}}),n("elx-editable-column",{attrs:{prop:"createTime",label:"创建时间",width:"160",formatter:e.formatterDate}}),n("elx-editable-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.removeEvent(t.row)}}},[e._v("删除")])]}}])})],1),n("el-pagination",{staticClass:"dblclick-table3-pagination",attrs:{"current-page":e.pageVO.currentPage,"page-sizes":[5,10,15,20,50,100,150,200],"page-size":e.pageVO.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageVO.totalResult},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},a=[],s=(n("ac6a"),n("0a0d")),r=n.n(s),l=n("c695"),o=n.n(l),c=n("628a"),d=n.n(c),u=n("5c96"),f={data:function(){return{loading:!1,sexList:[],regionList:[],list:[],pageVO:{currentPage:1,pageSize:10,totalResult:0},validRules:{name:[{required:!0,message:"请输入名称",trigger:"change"},{min:3,max:50,message:"名称长度 4-20 个字符",trigger:"change"}],age:[{required:!0,type:"number",message:"年龄必填",trigger:"change"}]}}},created:function(){this.findSexList(),this.findRegionList(),this.findList()},methods:{findList:function(){var e=this;this.loading=!0,d.a.doGet("/api/user/page/list/".concat(this.pageVO.pageSize,"/").concat(this.pageVO.currentPage)).then(function(t){var n=t.data,i=n.page,a=n.result;e.list=a,e.pageVO.totalResult=i.totalResult,e.loading=!1}).catch(function(t){e.loading=!1})},findSexList:function(){var e=this;d.a.doGet("/api/conf/sex/list").then(function(t){var n=t.data;e.sexList=n})},findRegionList:function(){var e=this;d.a.doGet("/api/conf/region/list").then(function(t){var n=t.data;e.regionList=n})},searchEvent:function(){this.pageVO.currentPage=1,this.findList()},handleSizeChange:function(e){this.pageVO.pageSize=e,this.findList()},handleCurrentChange:function(e){this.pageVO.currentPage=e,this.findList()},formatterDate:function(e,t,n,i){return o.a.toDateString(n,"yyyy-MM-dd HH:mm:ss")},editActiveEvent:function(e,t){console.log("触发 edit-active 事件")},blurActiveEvent:function(e,t){console.log("触发 blur-active 事件"),this.$refs.elxEditable.validateRow(e)},clearActiveEvent:function(e,t){console.log("触发 clear-active 事件")},insertEvent:function(){var e=this;this.$refs.elxEditable.insert({name:"New ".concat(r()()),age:0,flag:!1}).then(function(t){var n=t.row;e.$refs.elxEditable.setActiveCell(n,"name")})},removeEvent:function(e){var t=this;e.id?u["MessageBox"].confirm("确定删除该数据?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$refs.elxEditable.remove(e)}).catch(function(e){return e}):this.$refs.elxEditable.remove(e)},deleteSelectedEvent:function(){var e=this,t=this.$refs.elxEditable.getSelecteds();t.length?u["MessageBox"].confirm("确定删除所选数据?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$refs.elxEditable.removeSelecteds()}).catch(function(e){return e}):Object(u["Message"])({type:"info",message:"请至少选择一条数据！"})},validEvent:function(){this.$refs.elxEditable.validate(function(e){e?Object(u["Message"])({type:"success",message:"校验通过!"}):Object(u["Message"])({type:"error",message:"校验不通过!"})})},submitEvent:function(){var e=this;this.$refs.elxEditable.validate(function(t){if(t){var n=e.$refs.elxEditable.getAllRecords(),i=n.insertRecords,a=n.updateRecords,s=n.removeRecords;i.length||a.length||s.length?(i.forEach(function(e){o.a.isDate(e.date)&&(e.date=e.date.getTime())}),a.forEach(function(e){o.a.isDate(e.date)&&(e.date=e.date.getTime())}),e.loading=!0,d.a.doPost("/api/user/save",{insertRecords:i,updateRecords:a,removeRecords:s}).then(function(t){t.data;Object(u["Message"])({type:"success",message:"保存成功!"}),e.findList()}).catch(function(t){e.loading=!1})):Object(u["Message"])({type:"info",message:"数据未改动！"})}})},exportCsvEvent:function(){this.$refs.elxEditable.exportCsv()}}},m=f,p=(n("91db"),n("2877")),g=Object(p["a"])(m,i,a,!1,null,null,null);t["default"]=g.exports},8516:function(e,t,n){var i=n("63b6");i(i.S,"Number",{isInteger:n("0cd9")})},8790:function(e,t,n){n("8516"),e.exports=n("584a").Number.isInteger},"8dda":function(e,t,n){},"91db":function(e,t,n){"use strict";var i=n("70d8"),a=n.n(i);a.a},"9c23":function(e,t,n){},a1ce:function(e,t,n){var i=n("63b6"),a=n("25eb"),s=n("294c"),r=n("e692"),l="["+r+"]",o="​",c=RegExp("^"+l+l+"*"),d=RegExp(l+l+"*$"),u=function(e,t,n){var a={},l=s(function(){return!!r[e]()||o[e]()!=o}),c=a[e]=l?t(f):r[e];n&&(a[n]=c),i(i.P+i.F*l,"String",a)},f=u.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(d,"")),e};e.exports=u},b9e9:function(e,t,n){n("7445"),e.exports=n("584a").parseInt},ba3b:function(e,t,n){},bf62:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{staticStyle:{color:"red","font-size":"12px"}},[e._v("name字段（校验必填，校验3-10个字符")]),n("p",[n("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.insertEvent}},[e._v("新增一行")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.$refs.elxEditable.removeSelecteds()}}},[e._v("删除选中")]),n("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(t){return e.$refs.elxEditable.clear()}}},[e._v("清空表格")]),n("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(t){return e.$refs.elxEditable.clearSelection()}}},[e._v("清空用户的选择")]),n("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(t){return e.$refs.elxEditable.toggleAllSelection()}}},[e._v("选中所有")])],1),n("elx-editable",{ref:"elxEditable",staticClass:"manual-table4",staticStyle:{width:"100%"},attrs:{size:"mini",border:"",data:e.list,"edit-rules":e.validRules,"edit-config":{trigger:"click",mode:"cell"}},on:{"update:data":function(t){e.list=t}}},[n("elx-editable-column",{attrs:{type:"selection",width:"55"}}),n("elx-editable-column",{attrs:{type:"index",width:"55"}}),n("elx-editable-column",{attrs:{prop:"select1",label:"ElSelect","edit-render":{name:"ElSelect",options:e.sexList,attrs:{clearable:!0}}}}),n("elx-editable-column",{attrs:{prop:"select2",label:"iSelect","edit-render":{type:"default"}},scopedSlots:e._u([{key:"edit",fn:function(t){return[n("Select",{attrs:{clearable:""},model:{value:t.row.select2,callback:function(n){e.$set(t.row,"select2",n)},expression:"scope.row.select2"}},e._l(e.sexList,function(t){return n("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getSelectLabel(t.row.select2)))]}}])}),n("elx-editable-column",{attrs:{prop:"cascader1",label:"ElCascader","edit-render":{name:"ElCascader",attrs:{options:e.regionList,clearable:!0}}}}),n("elx-editable-column",{attrs:{prop:"cascader2",label:"iCascader","edit-render":{type:"default"}},scopedSlots:e._u([{key:"edit",fn:function(t){return[n("Cascader",{attrs:{data:e.regionList},model:{value:t.row.cascader2,callback:function(n){e.$set(t.row,"cascader2",n)},expression:"scope.row.cascader2"}})]}},{key:"default",fn:function(t){return[e._v(e._s(e.getCascaderLabel(t.row.cascader2)))]}}])}),n("elx-editable-column",{attrs:{prop:"date1",label:"ElDatePicker","edit-render":{name:"ElDatePicker",attrs:{type:"date",format:"yyyy-MM-dd"}}}}),n("elx-editable-column",{attrs:{prop:"date2",label:"iDatePicker","edit-render":{type:"default"}},scopedSlots:e._u([{key:"edit",fn:function(t){return[n("DatePicker",{attrs:{type:"date","show-week-numbers":""},model:{value:t.row.date2,callback:function(n){e.$set(t.row,"date2",n)},expression:"scope.row.date2"}})]}},{key:"default",fn:function(t){return[e._v(e._s(e.getDateLabel(t.row.date2)))]}}])}),n("elx-editable-column",{attrs:{prop:"flag1",label:"ElSwitch","edit-render":{name:"ElSwitch",type:"visible"}}}),n("elx-editable-column",{attrs:{prop:"flag2",label:"iSwitch","edit-render":{type:"visible"}},scopedSlots:e._u([{key:"edit",fn:function(t){return[n("i-switch",{model:{value:t.row.flag2,callback:function(n){e.$set(t.row,"flag2",n)},expression:"scope.row.flag2"}},[n("span",{attrs:{slot:"open"},slot:"open"},[e._v("开")]),n("span",{attrs:{slot:"close"},slot:"close"},[e._v("关")])])]}}])}),n("elx-editable-column",{attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.removeEvent(t.row)}}},[e._v("删除")]),n("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(n){return e.revertEvent(t.row)}}},[e._v("还原")])]}}])})],1)],1)},a=[],s=(n("ac6a"),n("7514"),n("c695")),r=n.n(s),l=n("628a"),o=n.n(l),c=n("5c96"),d={data:function(){return{regionList:[],sexList:[],list:[{select1:"1",select2:"0",cascader1:[19,199,1773],cascader2:[19,197,1751],date1:new Date,date2:new Date,flag1:!0,flag2:!1}],validRules:{name:[{required:!0,message:"请输入名称",trigger:"change"},{min:3,max:10,message:"名称长度 3-10 个字符",trigger:"blur"}]}}},created:function(){this.findSexList(),this.findRegionList()},methods:{findSexList:function(){var e=this;o.a.doGet("/api/conf/sex/list").then(function(t){var n=t.data;e.sexList=n})},findRegionList:function(){var e=this;return o.a.doGet("/api/conf/region/list").then(function(t){var n=t.data;e.regionList=n})},getSelectLabel:function(e){var t=r.a.find(this.sexList,function(t){return t.value===e});return t?t.label:null},matchCascaderData:function(e,t,n,i){var a=this,s=e[t];n&&e.length>t&&n.forEach(function(n){n.value===s&&(i.push(n.label),a.matchCascaderData(e,++t,n.children,i))})},getCascaderLabel:function(e){var t=[];return this.matchCascaderData(e||[],0,this.regionList,t),t.join(" / ")},getDateLabel:function(e){return r.a.toDateString(e,"yyyy-MM-dd")},insertEvent:function(){var e=this;this.$refs.elxEditable.insert({cascader1:[],cascader2:[],flag1:!1,flag2:!1}).then(function(t){var n=t.row;e.$refs.elxEditable.setActiveRow(n)})},isRowOperate:function(e){var t=this.$refs.elxEditable.getActiveRow();return!t||t.row===e},removeEvent:function(e){var t=this;this.isRowOperate(e)&&c["MessageBox"].confirm("确定删除该数据?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$refs.elxEditable.remove(e)}).catch(function(e){return e})},revertEvent:function(e){var t=this;this.isRowOperate(e)&&(this.$refs.elxEditable.hasRowChange(e)?c["MessageBox"].confirm("确定还原该行数据?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$refs.elxEditable.revert(e),Object(c["Message"])({message:"数据还原成功！",type:"success"})}).catch(function(e){return e}):Object(c["Message"])({message:"数据未改动！",type:"info"}))},updateRowEvent:function(e){this.$refs.elxEditable.reloadRow(e),Object(c["Message"])({message:"保存成功",type:"success"})},saveRowEvent:function(e){var t=this;this.$refs.elxEditable.validateRow(e,function(n){n?(t.$refs.elxEditable.clearActive(),t.$refs.elxEditable.reloadRow(e),Object(c["Message"])({message:"保存成功",type:"success"})):console.log("error row submit!!")})}}},u=d,f=n("2877"),m=Object(f["a"])(u,i,a,!1,null,null,null);t["default"]=m.exports},d8dc:function(e,t,n){"use strict";var i=n("9c23"),a=n.n(i);a.a},e692:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e814:function(e,t,n){e.exports=n("b9e9")},f1d1:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("p",{staticStyle:{color:"red","font-size":"12px"}},[e._v("动态列、个性化列渲染")]),n("el-form",{ref:"tableform",staticClass:"dblclick-table5-form",attrs:{size:"mini",inline:!0,model:e.formData}},[n("el-form-item",{attrs:{label:"名字",prop:"name"}},[n("el-input",{attrs:{placeholder:"名字"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),n("el-form-item",{attrs:{label:"角色",prop:"role"}},[n("el-input",{attrs:{placeholder:"请输入角色"},model:{value:e.formData.role,callback:function(t){e.$set(e.formData,"role",t)},expression:"formData.role"}})],1),n("el-form-item",{attrs:{label:"性别",prop:"sex"}},[n("el-select",{attrs:{placeholder:"性别"},model:{value:e.formData.sex,callback:function(t){e.$set(e.formData,"sex",t)},expression:"formData.sex"}},e._l(e.sexList,function(e,t){return n("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.searchEvent}},[e._v("查询")]),n("el-button",{on:{click:function(t){return e.$refs.tableform.resetFields()}}},[e._v("重置")])],1)],1),n("div",{staticClass:"dblclick-table5-oper"},[n("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.insertEvent}},[e._v("新增")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.pendingRemoveEvent}},[e._v("标记/取消删除")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.deleteSelectedEvent}},[e._v("删除选中")]),n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:e.submitEvent}},[e._v("保存")]),n("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.exportCsvEvent}},[e._v("导出")])],1),n("elx-editable",{ref:"elxEditable",staticClass:"dblclick-table5",staticStyle:{width:"100%"},attrs:{border:"",height:"466",size:"mini",data:e.list,"custom-columns":e.customColumns,"row-class-name":e.tableRowClassName,"edit-rules":e.validRules,"edit-config":{trigger:"dblclick",mode:"row"}},on:{"update:data":function(t){e.list=t},"update:customColumns":function(t){e.customColumns=t},"update:custom-columns":function(t){e.customColumns=t}}},[n("elx-editable-column",{attrs:{type:"selection",width:"55"}}),n("elx-editable-column",{attrs:{type:"index",width:"55"},scopedSlots:e._u([{key:"header",fn:function(){return[n("i",{staticClass:"el-icon-setting",on:{click:function(t){e.dialogVisible=!0}}})]},proxy:!0}])}),n("elx-editable-column",{attrs:{prop:"sex",label:"性别","edit-render":{name:"ElSelect",options:e.sexList}}}),n("elx-editable-column",{attrs:{prop:"age",label:"年龄","edit-render":{name:"ElInputNumber",attrs:{min:1,max:200}}}}),n("elx-editable-column",{attrs:{prop:"region",label:"地区","edit-render":{name:"ElCascader",attrs:{options:e.regionList}}}}),n("elx-editable-column",{attrs:{prop:"date",label:"日期","edit-render":{name:"ElDatePicker",attrs:{type:"datetime",format:"yyyy-MM-dd"}}}}),n("elx-editable-column",{attrs:{prop:"rate",label:"评分","edit-render":{name:"ElRate",type:"visible"}}}),n("elx-editable-column",{attrs:{prop:"attr1",label:"属性1","edit-render":{name:"ElInput"}},scopedSlots:e._u([{key:"header",fn:function(t){return[n("i",{staticClass:"editable-required-icon"}),e._v("\n        -- slot header -- "+e._s(t.column.label)+"\n        "),n("el-tooltip",{staticClass:"item",attrs:{placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("说明："),n("br"),e._v("attr1字段为自定义列头"),n("br"),e._v("校验必填字段")]),n("i",{staticClass:"el-icon-question"})])]}}])}),n("elx-editable-column",{attrs:{prop:"attr2",label:"属性2","edit-render":{name:"ElInput"}},scopedSlots:e._u([{key:"header",fn:function(t){return[e._v("\n        -- slot header --\n        "),n("el-tooltip",{staticClass:"item",attrs:{content:"说明：attr2字段为自定义列头",placement:"left",effect:"light"}},[n("i",{staticClass:"el-icon-warning"})])]}}])}),n("elx-editable-column",{attrs:{prop:"attr3",label:"属性3","edit-render":{name:"ElInput"}}}),n("elx-editable-column",{attrs:{prop:"attr4",label:"属性4","edit-render":{name:"ElInput"}}}),n("elx-editable-column",{attrs:{prop:"attr5",label:"属性5","edit-render":{name:"ElInput"}}}),n("elx-editable-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.removeEvent(t.row)}}},[e._v("删除")])]}}])})],1),n("el-pagination",{staticClass:"dblclick-table5-pagination",attrs:{"current-page":e.pageVO.currentPage,"page-sizes":[5,10,15,20,50,100,150,200],"page-size":e.pageVO.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageVO.totalResult},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),n("el-dialog",{attrs:{title:"自定义列",visible:e.dialogVisible,width:"540px","append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t},open:e.openCustomEvent}},[n("el-transfer",{attrs:{filterable:"","filter-method":e.filterColumnMethod,"filter-placeholder":"请输入列名",data:e.allCustomColumnList,titles:["隐藏列","显示列"],props:{key:"prop",label:"label"}},model:{value:e.selectColumns,callback:function(t){e.selectColumns=t},expression:"selectColumns"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.resetCustomEvent}},[e._v("重 置")]),n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.saveCustomEvent}},[e._v("保 存")])],1)],1)],1)},a=[],s=(n("6762"),n("2fdb"),n("0a0d")),r=n.n(s),l=n("795b"),o=n.n(l),c=(n("ac6a"),n("5df3"),n("c695")),d=n.n(c),u=n("628a"),f=n.n(u),m=n("5c96"),p={data:function(){return{loading:!1,sexList:[],regionList:[],list:[],formData:{name:null,sex:null,role:null},pageVO:{currentPage:1,pageSize:10,totalResult:0},pendingRemoveList:[],validRules:{attr1:[{required:!0,message:"必填字段",trigger:"change"}]},dialogVisible:!1,customColumns:[],selectColumns:[]}},computed:{allCustomColumnList:function(){return this.customColumns.filter(function(e){return e.prop})}},created:function(){var e=this;this.loading=!0,o.a.all([this.findConfColumnsList(),this.findList()]).catch(function(e){return e}).then(function(){e.loading=!1}),this.findSexList(),this.findRegionList()},methods:{findList:function(){var e=this;return this.loading=!0,this.pendingRemoveList=[],f.a.doGet("/api/user/page/list/".concat(this.pageVO.pageSize,"/").concat(this.pageVO.currentPage),this.formData).then(function(t){var n=t.data,i=n.page,a=n.result;return e.list=a,e.pageVO.totalResult=i.totalResult,e.loading=!1,a}).catch(function(t){e.loading=!1})},findSexList:function(){var e=this;return f.a.doGet("/api/conf/sex/list").then(function(t){var n=t.data;return e.sexList=n,n})},findRegionList:function(){var e=this;return f.a.doGet("/api/conf/region/list").then(function(t){var n=t.data;return e.regionList=n,n})},findConfColumnsList:function(){var e=this;return f.a.doGet("/api/conf/columns/list").then(function(t){var n=t.data;return e.customColumns=n,n})},searchEvent:function(){this.pageVO.currentPage=1,this.findList()},handleSizeChange:function(e){this.pageVO.pageSize=e,this.findList()},handleCurrentChange:function(e){this.pageVO.currentPage=e,this.findList()},formatterDate:function(e,t,n,i){return d.a.toDateString(n,"yyyy-MM-dd HH:mm:ss")},tableRowClassName:function(e){var t=e.row;e.rowIndex;return this.pendingRemoveList.some(function(e){return e===t})?"delete-row":""},filterColumnMethod:function(e,t){return t.label.indexOf(e)>-1},insertEvent:function(){var e=this;this.$refs.elxEditable.insert({name:"New ".concat(r()()),age:26,flag:!1}).then(function(t){var n=t.row;e.$refs.elxEditable.setActiveRow(n)})},removeEvent:function(e){var t=this;e.id?m["MessageBox"].confirm("确定永久删除该数据?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.loading=!0,f.a.doDelete("/api/user/delete/".concat(e.id)).then(function(e){e.data;t.findList()}).catch(function(e){t.loading=!1})}).catch(function(e){return e}):this.$refs.elxEditable.remove(e)},pendingRemoveEvent:function(){var e=this,t=this.$refs.elxEditable.getSelecteds();if(t.length){var n=[],i=[];t.forEach(function(t){e.pendingRemoveList.some(function(e){return t===e})?i.push(t):n.push(t)}),i.length?this.pendingRemoveList=this.pendingRemoveList.filter(function(e){return i.some(function(t){return t!==e})}).concat(n):n&&(this.pendingRemoveList=this.pendingRemoveList.concat(n)),this.$refs.elxEditable.clearSelection()}else Object(m["Message"])({type:"info",message:"请至少选择一条数据！"})},deleteSelectedEvent:function(){var e=this,t=this.$refs.elxEditable.getSelecteds();t.length?m["MessageBox"].confirm("确定删除所选数据?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.loading=!0,f.a.doPost("/api/user/save",{removeRecords:t}).then(function(t){t.data;Object(m["Message"])({type:"success",message:"删除成功!"}),e.findList()}).catch(function(t){e.loading=!1})}).catch(function(e){return e}):Object(m["Message"])({type:"info",message:"请至少选择一条数据！"})},submitEvent:function(){var e=this;this.$refs.elxEditable.validate(function(t){if(t){var n=e.pendingRemoveList,i=e.$refs.elxEditable.getAllRecords(),a=i.insertRecords,s=i.updateRecords;a.length||s.length||n.length?(a.forEach(function(e){d.a.isDate(e.date)&&(e.date=e.date.getTime())}),s.forEach(function(e){d.a.isDate(e.date)&&(e.date=e.date.getTime())}),e.loading=!0,f.a.doPost("/api/user/save",{insertRecords:a,updateRecords:s,removeRecords:n}).then(function(t){t.data;Object(m["Message"])({type:"success",message:"保存成功!"}),e.findList()}).catch(function(t){e.loading=!1})):Object(m["Message"])({type:"info",message:"数据未改动！"})}})},exportCsvEvent:function(){this.$refs.elxEditable.exportCsv()},openCustomEvent:function(){this.selectColumns=this.allCustomColumnList.filter(function(e){return e.visible}).map(function(e){return e.prop})},resetCustomEvent:function(){this.selectColumns=this.allCustomColumnList.map(function(e){return e.prop})},saveCustomEvent:function(){var e=this;if(!this.selectColumns.length)return Object(m["Message"])({type:"error",message:"请至少选择一列！"});this.dialogVisible=!1,this.allCustomColumnList.forEach(function(t){t.visible=e.selectColumns.includes(t.prop)})}}},g=p,h=(n("54ec"),n("2877")),v=Object(h["a"])(g,i,a,!1,null,null,null);t["default"]=v.exports},fb98:function(e,t,n){"use strict";var i=n("8dda"),a=n.n(i);a.a},fc86:function(e,t,n){"use strict";var i=n("2e72"),a=n.n(i);a.a}}]);